<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"/><meta name="theme-color" content="#222"/><meta http-equiv="X-UA-COMPATIBLE" content="IE=edge,chrome=1"/><meta name="renderer" content="webkit"/><link rel="icon" type="image/ico" sizes="32x32" href="/assets/favicon.ico"/><link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png"/><link rel="alternate" href="/rss.xml" title="Nana7ha's Café Stella" type="application/rss+xml"><link rel="alternate" href="/atom.xml" title="Nana7ha's Café Stella" type="application/atom+xml"><link rel="alternate" type="application/json" title="Nana7ha's Café Stella" href="http://cwlrin.github.io/feed.json"/><link rel="preconnect" href="https://s4.zstatic.net"/><link rel="preconnect" href="https://at.alicdn.com"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Mulish:400,400italic,700,700italic%7CFredericka%20the%20Great:400,400italic,700,700italic%7CNoto%20Serif%20JP:400,400italic,700,700italic%7CNoto%20Serif%20SC:400,400italic,700,700italic%7CInconsolata:400,400italic,700,700italic&display=swap&subset=latin,latin-ext" media="none" onload="this.media&#x3D;&#39;all&#39;"><link rel="stylesheet" href="/css/app.css?v=0.4.14"><link rel="modulepreload" href="/js/chunk-3QGRG5LW.js"></link><link rel="modulepreload" href="/js/chunk-UI4753RE.js"></link><link rel="modulepreload" href="/js/chunk-W4TLJ2OW.js"></link><link rel="modulepreload" href="/js/copy-tex-AOQYTOAX.js"></link><link rel="modulepreload" href="/js/index.esm-CJDJKRJB.js"></link><link rel="modulepreload" href="/js/post-3U5GTE2G.js"></link><link rel="modulepreload" href="/js/quicklink-SMYWLNBX.js"></link><link rel="modulepreload" href="/js/siteInit.js"></link><link rel="preload" href="h" as="image" fetchpriority="high"><link rel="preload" href="t" as="image" fetchpriority="high"><link rel="preload" href="t" as="image" fetchpriority="high"><link rel="preload" href="p" as="image" fetchpriority="high"><link rel="preload" href="s" as="image" fetchpriority="high"><link rel="preload" href=":" as="image" fetchpriority="high"><link rel="preload" href="/" as="image" fetchpriority="high"><link rel="preload" href="/" as="image" fetchpriority="high"><link rel="preload" href="d" as="image" fetchpriority="high"><link rel="preload" href="l" as="image" fetchpriority="high"><link rel="preload" href="i" as="image" fetchpriority="high"><link rel="preload" href="n" as="image" fetchpriority="high"><link rel="preload" href="k" as="image" fetchpriority="high"><link rel="preload" href="." as="image" fetchpriority="high"><link rel="preload" href="h" as="image" fetchpriority="high"><link rel="preload" href="o" as="image" fetchpriority="high"><link rel="preload" href="s" as="image" fetchpriority="high"><link rel="preload" href="t" as="image" fetchpriority="high"><link rel="preload" href="/" as="image" fetchpriority="high"><link rel="preload" href="1" as="image" fetchpriority="high"><link rel="preload" href="d" as="image" fetchpriority="high"><link rel="preload" href="r" as="image" fetchpriority="high"><link rel="preload" href="v" as="image" fetchpriority="high"><link rel="preload" href="/" as="image" fetchpriority="high"><link rel="preload" href="a" as="image" fetchpriority="high"><link rel="preload" href="H" as="image" fetchpriority="high"><link rel="preload" href="R" as="image" fetchpriority="high"><link rel="preload" href="0" as="image" fetchpriority="high"><link rel="preload" href="c" as="image" fetchpriority="high"><link rel="preload" href="H" as="image" fetchpriority="high"><link rel="preload" href="M" as="image" fetchpriority="high"><link rel="preload" href="6" as="image" fetchpriority="high"><link rel="preload" href="L" as="image" fetchpriority="high"><link rel="preload" href="y" as="image" fetchpriority="high"><link rel="preload" href="8" as="image" fetchpriority="high"><link rel="preload" href="x" as="image" fetchpriority="high"><link rel="preload" href="Z" as="image" fetchpriority="high"><link rel="preload" href="H" as="image" fetchpriority="high"><link rel="preload" href="J" as="image" fetchpriority="high"><link rel="preload" href="2" as="image" fetchpriority="high"><link rel="preload" href="L" as="image" fetchpriority="high"><link rel="preload" href="m" as="image" fetchpriority="high"><link rel="preload" href="1" as="image" fetchpriority="high"><link rel="preload" href="z" as="image" fetchpriority="high"><link rel="preload" href="L" as="image" fetchpriority="high"><link rel="preload" href="2" as="image" fetchpriority="high"><link rel="preload" href="k" as="image" fetchpriority="high"><link rel="preload" href="v" as="image" fetchpriority="high"><link rel="preload" href="Y" as="image" fetchpriority="high"><link rel="preload" href="y" as="image" fetchpriority="high"><link rel="preload" href="9" as="image" fetchpriority="high"><link rel="preload" href="i" as="image" fetchpriority="high"><link rel="preload" href="Z" as="image" fetchpriority="high"><link rel="preload" href="G" as="image" fetchpriority="high"><link rel="preload" href="U" as="image" fetchpriority="high"><link rel="preload" href="1" as="image" fetchpriority="high"><link rel="preload" href="M" as="image" fetchpriority="high"><link rel="preload" href="W" as="image" fetchpriority="high"><link rel="preload" href="U" as="image" fetchpriority="high"><link rel="preload" href="2" as="image" fetchpriority="high"><link rel="preload" href="M" as="image" fetchpriority="high"><link rel="preload" href="j" as="image" fetchpriority="high"><link rel="preload" href="V" as="image" fetchpriority="high"><link rel="preload" href="l" as="image" fetchpriority="high"><link rel="preload" href="Z" as="image" fetchpriority="high"><link rel="preload" href="j" as="image" fetchpriority="high"><link rel="preload" href="h" as="image" fetchpriority="high"><link rel="preload" href="m" as="image" fetchpriority="high"><link rel="preload" href="Y" as="image" fetchpriority="high"><link rel="preload" href="2" as="image" fetchpriority="high"><link rel="preload" href="M" as="image" fetchpriority="high"><link rel="preload" href="1" as="image" fetchpriority="high"><link rel="preload" href="L" as="image" fetchpriority="high"><link rel="preload" href="0" as="image" fetchpriority="high"><link rel="preload" href="V" as="image" fetchpriority="high"><link rel="preload" href="i" as="image" fetchpriority="high"><link rel="preload" href="T" as="image" fetchpriority="high"><link rel="preload" href="n" as="image" fetchpriority="high"><link rel="preload" href="p" as="image" fetchpriority="high"><link rel="preload" href="Z" as="image" fetchpriority="high"><link rel="preload" href="V" as="image" fetchpriority="high"><link rel="preload" href="l" as="image" fetchpriority="high"><link rel="preload" href="l" as="image" fetchpriority="high"><link rel="preload" href="h" as="image" fetchpriority="high"><link rel="preload" href="O" as="image" fetchpriority="high"><link rel="preload" href="W" as="image" fetchpriority="high"><link rel="preload" href="F" as="image" fetchpriority="high"><link rel="preload" href="K" as="image" fetchpriority="high"><link rel="preload" href="S" as="image" fetchpriority="high"><link rel="preload" href="m" as="image" fetchpriority="high"><link rel="preload" href="h" as="image" fetchpriority="high"><link rel="preload" href="O" as="image" fetchpriority="high"><link rel="preload" href="V" as="image" fetchpriority="high"><link rel="preload" href="0" as="image" fetchpriority="high"><link rel="preload" href="t" as="image" fetchpriority="high"><link rel="preload" href="I" as="image" fetchpriority="high"><link rel="preload" href="V" as="image" fetchpriority="high"><link rel="preload" href="3" as="image" fetchpriority="high"><link rel="preload" href="B" as="image" fetchpriority="high"><link rel="preload" href="L" as="image" fetchpriority="high"><link rel="preload" href="M" as="image" fetchpriority="high"><link rel="preload" href="D" as="image" fetchpriority="high"><link rel="preload" href="l" as="image" fetchpriority="high"><link rel="preload" href="Z" as="image" fetchpriority="high"><link rel="preload" href="Q" as="image" fetchpriority="high"><link rel="preload" href="j" as="image" fetchpriority="high"><link rel="preload" href="k" as="image" fetchpriority="high"><link rel="preload" href="5" as="image" fetchpriority="high"><link rel="preload" href="R" as="image" fetchpriority="high"><link rel="preload" href="n" as="image" fetchpriority="high"><link rel="preload" href="V" as="image" fetchpriority="high"><link rel="preload" href="Y" as="image" fetchpriority="high"><link rel="preload" href="e" as="image" fetchpriority="high"><link rel="preload" href="X" as="image" fetchpriority="high"><link rel="preload" href="N" as="image" fetchpriority="high"><link rel="preload" href="D" as="image" fetchpriority="high"><link rel="preload" href="R" as="image" fetchpriority="high"><link rel="preload" href="T" as="image" fetchpriority="high"><link rel="preload" href="J" as="image" fetchpriority="high"><link rel="preload" href="2" as="image" fetchpriority="high"><link rel="preload" href="X" as="image" fetchpriority="high"><link rel="preload" href="z" as="image" fetchpriority="high"><link rel="preload" href="E" as="image" fetchpriority="high"><link rel="preload" href="0" as="image" fetchpriority="high"><link rel="preload" href="d" as="image" fetchpriority="high"><link rel="preload" href="X" as="image" fetchpriority="high"><link rel="preload" href="o" as="image" fetchpriority="high"><link rel="preload" href="0" as="image" fetchpriority="high"><link rel="preload" href="S" as="image" fetchpriority="high"><link rel="preload" href="0" as="image" fetchpriority="high"><link rel="preload" href="d" as="image" fetchpriority="high"><link rel="preload" href="Q" as="image" fetchpriority="high"><link rel="preload" href="b" as="image" fetchpriority="high"><link rel="preload" href="0" as="image" fetchpriority="high"><link rel="preload" href="E" as="image" fetchpriority="high"><link rel="preload" href="_" as="image" fetchpriority="high"><link rel="preload" href="Z" as="image" fetchpriority="high"><link rel="preload" href="T" as="image" fetchpriority="high"><link rel="preload" href="1" as="image" fetchpriority="high"><link rel="preload" href="J" as="image" fetchpriority="high"><link rel="preload" href="T" as="image" fetchpriority="high"><link rel="preload" href="U" as="image" fetchpriority="high"><link rel="preload" href="M" as="image" fetchpriority="high"><link rel="preload" href="3" as="image" fetchpriority="high"><link rel="preload" href="S" as="image" fetchpriority="high"><link rel="preload" href="E" as="image" fetchpriority="high"><link rel="preload" href="8" as="image" fetchpriority="high"><link rel="preload" href="." as="image" fetchpriority="high"><link rel="preload" href="p" as="image" fetchpriority="high"><link rel="preload" href="n" as="image" fetchpriority="high"><link rel="preload" href="g" as="image" fetchpriority="high"><meta name="keywords" content="C,"/><meta name="description" content="技术与美日新月异"/><link rel="canonical" href="http://cwlrin.github.io/c-cpp/linux-c/Linux%20C%20%E5%9F%BA%E7%A1%80/"><title>Linux C 基础</title><meta name="generator" content="Hexo 7.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">Linux C 基础</h1><div class="meta"><span class="item" title="创建时间：2020-08-04 12:36:26"><span class="icon"><i class="ic i-calendar"></i></span><span class="text">发表于</span><time itemprop="dateCreated datePublished" datetime="2020-08-04T12:36:26+08:00">2020-08-04</time></span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i></span><span class="text">本文字数</span><span>18k</span><span class="text">字</span></span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i></span><span class="text">阅读时长</span><span>16 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span><span class="line"></span><span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">七葉の喫茶ステラ</a></li></ul><ul class="right" id="rightNav"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div class="pjax" id="imgs"><img src="https://dlink.host/1drv/aHR0cHM6Ly8xZHJ2Lm1zL2kvYy9iZGU1MWU2MjVlZjhmY2M1L0ViTnpZVllhOWFKSmhOV0tIV3BLMDlZQjk5RnVYeXNDRTJ2XzE0dXo0S0dQb0E_ZT1JTUM3SE8.png" loading="eager" decoding="async" fetchpriority="high" alt="Nana7ha's Café Stella"></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"></path></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"></use><use xlink:href="#gentle-wave" x="48" y="3"></use><use xlink:href="#gentle-wave" x="48" y="5"></use><use xlink:href="#gentle-wave" x="48" y="7"></use></g></svg></div><main><div class="inner"><div class="pjax" id="main"><div class="article wrap"><div class="breadcrumb" itemListElement itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i><span><a href="/">首页</a></span><i class="ic i-angle-right"></i><span itemprop="itemListElement" itemscope="itemscope" itemtype="https://schema.org/ListItem"><a href="/categories/c-cpp/" itemprop="item" rel="index" title="分类于C/C++"><span itemprop="name">C/C++<meta itemprop="position" content="0"/></span></a></span><i class="ic i-angle-right"></i><span class="current" itemprop="itemListElement" itemscope="itemscope" itemtype="https://schema.org/ListItem"><a href="/categories/c-cpp/linux-c/" itemprop="item" rel="index" title="分类于Linux C"><span itemprop="name">Linux C<meta itemprop="position" content="1"/></span></a></span></div><article class="post block" itemscope="itemscope" itemtype="http://schema.org/Article" lang="zh-CN"><link itemprop="mainEntityOfPage" href="http://cwlrin.github.io/c-cpp/linux-c/Linux%20C%20%E5%9F%BA%E7%A1%80/"/><span hidden="hidden" itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="image" content="/assets/avatar.jpg"/><meta itemprop="name" content="樱小路七叶"/><meta itemprop="description" content=", 技术与美日新月异"/></span><span hidden="hidden" itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="Nana7ha's Café Stella"/></span><div class="body md" itemprop="articleBody"><h2 id="c-语言标准"><a class="anchor" href="#c-语言标准">#</a> C 语言标准</h2>
<p><strong>ISO C 标准</strong>（International Standardization Organization C）是一套确保 C 语言函数在不同平台上具有一致行为的标准。这些标准定义了语言的语法、库函数以及它们的行为，从而为开发者提供了跨平台开发的便利。</p>
<p>例如，一些常见的 C 语言函数如  <code>printf</code> 、 <code>scanf</code> 、 <code>malloc</code>  和  <code>fopen</code>  等，都遵循 ISO C 标准，这意味着在兼容 ISO C 标准的编译平台上，它们的行为是一致的。</p>
<p><strong>POSIX 标准</strong>（Portable Operating System Interface）是一套更为广泛的标准，它不仅包括语言规范，还包括操作系统的接口标准。POSIX 标准确保了在类 Unix 系统（如 Unix、Linux、MacOS 等）上的应用程序能够在遵循该标准的其他系统上运行。</p>
<p>如果一个函数遵循 POSIX 标准，理论上它在所有类 Unix 平台上的行为应该是统一和一致的。然而，尽管 POSIX 标准旨在提高可移植性，但它并不像 ISO C 标准那样严格。因此，在实践中，直接将 Linux 平台上的代码移植到其他类 Unix 系统可能需要额外的考虑和调整。</p>
<h2 id="重定向"><a class="anchor" href="#重定向">#</a> 重定向</h2>
<p><img loading="lazy" data-src="https://dlink.host/1drv/aHR0cHM6Ly8xZHJ2Lm1zL2kvYy9iZGU1MWU2MjVlZjhmY2M1L0VjT1dRSVo4Z1JGRmxMQldYMjktcW00QmYxSndkNHdfbTlrZ2lsY0piRi15Y0E_ZT16SldUWHQ.png" alt="202402252009283.png" /></p>
<h3 id="c-语言中的重定向"><a class="anchor" href="#c-语言中的重定向">#</a> C 语言中的重定向</h3>
<p><strong>重定向的概念</strong>： 重定向涉及改变标准输入（ <code>stdin</code> ）、标准输出（ <code>stdout</code> ）和标准错误（ <code>stderr</code> ）的默认行为。通常，这些流分别关联到键盘、终端显示器和终端显示器。</p>
<p><strong>重定向到文件</strong>：重定向最常用的场景是将输入或输出导向文件。这允许程序读取文件内容或将输出结果保存到文件中。</p>
<p><strong>标准输入重定向</strong>：使用  <code>&lt;</code>  符号将标准输入重定向到文件。例如， <code>wc &lt; file</code>  会从文件  <code>file</code>  中读取数据，而不是从键盘。</p>
<p><strong>标准输出重定向</strong>：</p>
<ul>
<li>使用  <code>&gt;</code>  符号将标准输出重定向到文件，并且会截断文件（如果文件已存在）。例如， <code>wc &gt; file</code>  会将  <code>wc</code>  命令的输出写入  <code>file</code> ，覆盖原有内容。</li>
<li>使用  <code>&gt;&gt;</code>  符号将标准输出追加到文件末尾，而不是截断。例如， <code>wc &gt;&gt; file</code>  会将输出添加到  <code>file</code>  的末尾。</li>
</ul>
<p><strong>标准错误重定向</strong>：</p>
<ul>
<li>使用  <code>2&gt;</code>  符号将标准错误重定向到文件，并截断文件。例如， <code>program 2&gt; error.log</code>  会将程序的错误输出写入  <code>error.log</code> 。</li>
<li>使用  <code>2&gt;&gt;</code>  符号将标准错误追加到文件末尾。例如， <code>program 2&gt;&gt; error.log</code>  会将错误输出追加到  <code>error.log</code> 。</li>
</ul>
<p><strong>实现重定向</strong>： 在 shell 脚本或命令行中，重定向通过特定的符号实现，这些符号告诉 shell 将命令的输入或输出与文件关联。</p>
<p><strong>示例</strong>：</p>
<ul>
<li>重定向标准输入： <code>wc &lt; input.txt</code></li>
<li>重定向标准输出并截断： <code>wc &gt; output.txt</code></li>
<li>重定向标准输出并追加： <code>wc &gt;&gt; output.txt</code></li>
<li>重定向标准错误并截断： <code>program 2&gt; error.log</code></li>
<li>重定向标准错误并追加： <code>program 2&gt;&gt; error.log</code></li>
</ul>
<h3 id="重定向标准输入和直接从文件读数据"><a class="anchor" href="#重定向标准输入和直接从文件读数据">#</a> 重定向标准输入和直接从文件读数据</h3>
<p><strong>标准输入重定向</strong>： 当进程的标准输入被重定向到文件时，进程的数据输入源虽然变成了文件，但进程读取数据的方式并没有改变。进程仍然通过标准输入缓冲区（ <code>stdin</code> ）读取数据。</p>
<p><strong>进程的感知</strong>： 进程本身不会意识到数据来源的变化，因为它仍然通过  <code>stdin</code>  接收输入。这意味着，从进程的角度看，输入数据就像是来自键盘一样。</p>
<p><strong>输出内容</strong>： 由于进程通过标准输入缓冲区读取数据，输出的结果中不会包含任何关于输入文件的信息。如果需要在输出中包含文件信息，需要在程序中显式地处理。</p>
<p><strong>与直接读取文件的比较</strong>： 直接从文件中读取数据通常涉及到文件流操作，这允许程序访问文件的特定属性，如文件名或文件状态。而重定向标准输入则没有这些额外的信息。</p>
<p><strong>使用场景</strong>： 重定向标准输入在某些特定场景下可能有用，例如，当需要将程序的标准输入与文件内容关联，同时保留程序对输入的原有处理逻辑时。然而，大多数情况下，直接使用文件流来读取文件数据更为简单和直接。</p>
<p><img loading="lazy" data-src="https://dlink.host/1drv/aHR0cHM6Ly8xZHJ2Lm1zL2kvYy9iZGU1MWU2MjVlZjhmY2M1L0VlMDE5LUo3M1NoRnBRc2ZudzJOTy1ZQlR0dmI3OW1XUENsdWVVcW5SanQ1cWc_ZT1QVE14OHY.png" alt="202402252055581.png" /></p>
<p><img loading="lazy" data-src="https://dlink.host/1drv/aHR0cHM6Ly8xZHJ2Lm1zL2kvYy9iZGU1MWU2MjVlZjhmY2M1L0VmbDVHUVRfR3lCRW5IeWtjQ0xoc0hzQnFobVcxT250Sm1GczA5MG1QRFhfTmc_ZT1oS2hhQVE.png" alt="202402252100944.png" /></p>
<h2 id="编译和链接"><a class="anchor" href="#编译和链接">#</a> 编译和链接</h2>
<h3 id="编译和链接的过程"><a class="anchor" href="#编译和链接的过程">#</a> 编译和链接的过程</h3>
<p><img loading="lazy" data-src="https://dlink.host/1drv/aHR0cHM6Ly8xZHJ2Lm1zL2kvYy9iZGU1MWU2MjVlZjhmY2M1L0VUQ2VSN0FtYXBWRnB3eFI4ZEJTdXRFQk83cHF4bjNSdkJDWlJQUlNfRmx2dUE_ZT1mczNSMWE.png" alt="" /></p>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td data-command="[root@localhost] $"></td><td><pre>gcc <span class="token parameter variable">-E</span> test.c <span class="token parameter variable">-o</span> test.i           <span class="token comment"># -E 选项，表示激活预处理过程，生成预处理后的文件</span></pre></td></tr></table></figure><p><img loading="lazy" data-src="https://dlink.host/1drv/aHR0cHM6Ly8xZHJ2Lm1zL2kvYy9iZGU1MWU2MjVlZjhmY2M1L0VTMkpINkc5UXV4Qm5NSnBzYWFJbkNNQlFtM3RMZExwUXdZVDhFVjZ6M3E3eXc_ZT1Va09mRUc.png" alt="" /></p>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td data-command="[root@localhost] $"></td><td><pre>gcc <span class="token parameter variable">-S</span> test.i <span class="token parameter variable">-o</span> test.s           <span class="token comment"># —S 选项，表示激活预处理和编译两个过程，会生成汇编代码文件</span></pre></td></tr></table></figure><p><img loading="lazy" data-src="https://dlink.host/1drv/aHR0cHM6Ly8xZHJ2Lm1zL2kvYy9iZGU1MWU2MjVlZjhmY2M1L0VjSWtRUEMxNm1CQXVHZWJnby1ZTDVJQkJlYjFzSDdvT3pRRW9IVmZNM2NZTkE_ZT15WkZjYlg.png" alt="" /></p>
<p><img loading="lazy" data-src="https://dlink.host/1drv/aHR0cHM6Ly8xZHJ2Lm1zL2kvYy9iZGU1MWU2MjVlZjhmY2M1L0VmNFlSU1VueXNGR21BaXVtN0RTbHJZQm5EN3ZjWGtoR0JZb1VTdHVQRnRSS1E_ZT14ZGl6Y0k.png" alt="" /></p>
<p><img loading="lazy" data-src="https://dlink.host/1drv/aHR0cHM6Ly8xZHJ2Lm1zL2kvYy9iZGU1MWU2MjVlZjhmY2M1L0VXWnlzVndWR0RsTHFVUDZTYV9pUmVBQng1WXd0TFV5dGQ0czYteU5MczR3RkE_ZT1GbVBjS3I.png" alt="" /></p>
<p><code>nm</code>  命令用于显示目标文件或可执行程序中的符号信息表。符号信息表包含了程序中定义和引用的符号列表，这些信息对于程序员了解程序的实现和链接状态非常有用。</p>
<ul>
<li><strong>T (Text)</strong>：表示符号是一个在代码段（text segment）中的代码，通常是函数的入口点。</li>
<li><strong>D (Data)</strong>：表示符号是一个在已初始化的数据段（initialized data segment）中的全局变量或静态变量。</li>
<li><strong>B (BSS)</strong>：表示符号是一个在未初始化的数据段（uninitialized data segment，也称为 BSS 段）中的全局变量或静态变量。BSS 段不占用实际的磁盘空间，因为它只包含初始化为零的数据。</li>
<li><strong>R (Read-Only Data)</strong>：表示符号是一个在只读数据段中的常量或只读变量。</li>
<li><strong>U (Undefined)</strong>：表示符号在当前文件中被引用，但没有定义。这通常意味着符号需要在其他文件或库中定义，并在链接时解析。</li>
<li><strong>W (Weak)</strong>：表示符号是一个弱引用。弱引用的符号可以在其他文件中被覆盖。</li>
<li><strong>A (Absolute)</strong>：表示符号是一个绝对值，不依赖于程序的地址空间。</li>
<li><strong>I (Indirect)</strong>：表示符号是一个间接引用，它指向另一个符号。</li>
<li><strong>C (Common)</strong>：表示符号是一个公共符号，通常用于在多个编译单元中共享全局变量的声明。</li>
</ul>
<p>通过分析  <code>nm</code>  命令的输出，程序员可以确定哪些函数和全局变量已经在程序中实现，以及哪些符号需要通过链接从外部库或对象文件中获取。</p>
<p><img loading="lazy" data-src="https://dlink.host/1drv/aHR0cHM6Ly8xZHJ2Lm1zL2kvYy9iZGU1MWU2MjVlZjhmY2M1L0VZU05xa21CMm9oSnUzM2pvQ1JxT05vQnhNLWFZODFiUFIxYlRha2tpUmtnVkE_ZT15QklpcVk.png" alt="" /></p>
<p><strong>目标文件（ <code>.o</code>  文件）</strong>： <code>.o</code>  文件是编译源代码后生成的中间产物，它包含了编译器生成的机器代码和一些尚未定义的符号信息。</p>
<p><strong>链接的必要性</strong>：由于目标文件中可能存在未定义的符号，需要通过链接操作来解析这些符号，将它们与相应的定义关联起来，从而生成一个完整的可执行程序。</p>
<p><strong>标准库函数的链接</strong>：对于标准库函数，如  <code>puts</code>  和  <code>printf</code> ，编译器在链接过程中会自动搜索标准库文件，并完成这些函数的链接。这一过程对程序员来说是透明的，不需要手动干预。</p>
<p><strong>自定义外部函数和全局变量的链接</strong>：如果程序中使用了程序员自定义的外部函数或全局变量，它们的实现必须由程序员提供，并在链接过程中明确指定。这通常通过在链接命令中包含相应的目标文件或库文件来实现。</p>
<p><strong>链接过程</strong>：链接过程是编译流程的最后一步，它确保了所有未定义的符号都得到了正确的解析，并将多个目标文件以及它们依赖的库文件合并成一个可执行文件。</p>
<p><img loading="lazy" data-src="https://dlink.host/1drv/aHR0cHM6Ly8xZHJ2Lm1zL2kvYy9iZGU1MWU2MjVlZjhmY2M1L0VlVEMyMW5rQ0ExSG5Ea1ZLWm1LU0k4QndSMzVRWGNidVYyekpoZUNVSGFGVWc_ZT1SYWhSbUI.png" alt="" /></p>
<h3 id="gcc-的使用"><a class="anchor" href="#gcc-的使用">#</a> GCC 的使用</h3>
<ol>
<li><strong>预处理阶段</strong>:
<ul>
<li>指令： <code>gcc -E main.c -o main.i</code></li>
<li><code>-E</code>  选项指示 GCC 执行预处理阶段，这个阶段会处理宏定义、文件包含指令等，输出预处理后的 C 代码到  <code>main.i</code> 。</li>
</ul>
</li>
<li><strong>编译阶段</strong>:
<ul>
<li>指令： <code>gcc -S main.c -o main.s</code></li>
<li><code>-S</code>  选项指示 GCC 执行编译阶段，这个阶段将 C 代码转换为汇编代码，输出为  <code>main.s</code>  汇编文件。</li>
</ul>
</li>
<li><strong>汇编阶段</strong>:
<ul>
<li>指令： <code>gcc -c main.s -o main.o</code></li>
<li><code>-c</code>  选项指示 GCC 执行汇编阶段，将汇编代码转换为机器码，生成目标文件  <code>main.o</code> 。</li>
</ul>
</li>
<li><strong>链接阶段</strong>:
<ul>
<li>指令： <code>gcc main.o -o main</code></li>
<li>没有特定的选项来单独激活链接阶段， <code>gcc</code>  默认在没有  <code>-c</code> 、 <code>-S</code>  或  <code>-E</code>  时执行链接。这个阶段将一个或多个目标文件与库链接在一起，生成可执行文件  <code>main</code> 。</li>
</ul>
</li>
<li><strong>一步到位的编译和链接</strong>:
<ul>
<li>指令： <code>gcc main.c -o main</code></li>
<li>这个指令会同时执行预处理、编译、汇编和链接，最终生成可执行文件  <code>main</code> 。</li>
</ul>
</li>
</ol>
<p>对于下列代码：</p>
<figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">int</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>  <span class="token comment">// 忘记写 return 表示函数返回值</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>  <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>  <span class="token comment">//a 局部变量定义了但没有使用</span></pre></td></tr><tr><td data-num="6"></td><td><pre>  <span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>  <span class="token keyword">if</span> <span class="token punctuation">(</span>b <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>  <span class="token punctuation">&#125;</span>              <span class="token comment">// 赋值号作为判等号使用</span></pre></td></tr><tr><td data-num="9"></td><td><pre>  <span class="token keyword">int</span> c <span class="token operator">=</span> test<span class="token punctuation">;</span>  <span class="token comment">// 忘记写函数调用的 () 运算符</span></pre></td></tr><tr><td data-num="10"></td><td><pre>  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p><img loading="lazy" data-src="https://dlink.host/1drv/aHR0cHM6Ly8xZHJ2Lm1zL2kvYy9iZGU1MWU2MjVlZjhmY2M1L0VjTmZRcno1TDVoT3VkSkVQR2NVTXVBQlZoZmlNOVMta3lTV0JUMGhYZFpRYUE_ZT13ZWVvZGI.png" alt="" /></p>
<p><code>-Wall</code>  是 GCC 编译器的一个选项，用于在编译时打开几乎所有的警告信息。默认情况下，GCC 可能不会显示所有警告，或者只显示部分警告。使用  <code>-Wall</code>  可以帮助开发者发现潜在的问题，提高代码质量。</p>
<p>在 Linux 环境下使用 GCC 开发时，重视警告信息是一个好习惯，因为 GCC 的警告通常具有较高的准确性和实用性。一些对代码质量要求较高的公司会要求开发者将警告视为错误，并解决它们。</p>
<p><strong>编译器优化级别</strong>：</p>
<ul>
<li><code>-O0</code>  表示不进行优化，这在调试阶段很有用，因为它可以保持代码的原始结构，便于调试。</li>
<li><code>-O1</code>  是默认的优化级别，它提供了一系列优化措施，旨在提高程序的执行效率，同时保持较好的调试体验。</li>
<li><code>-O2</code>  是生产环境中常用的优化级别，它在  <code>-O1</code>  的基础上进一步优化，以提高程序的性能。</li>
<li><code>-O3</code>  表示最高级别的优化，它采用了更激进的优化手段，可能会改变程序的算法和数据结构，以获得更高的性能。但这种优化可能会使调试变得更加困难。</li>
</ul>
<p><strong>调试信息</strong>： 使用  <code>-g</code>  选项可以指示编译器在编译过程中生成调试信息。这包括变量名、函数名等，这些信息对于调试程序至关重要。即使在生成可执行文件时，调试信息也不会被丢弃，而是被保留在可执行文件中，使得开发者可以使用调试器（如 gdb）进行程序调试。</p>
<p>对于以下代码：</p>
<figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"N = %d\n"</span><span class="token punctuation">,</span> N<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p><img loading="lazy" data-src="https://dlink.host/1drv/aHR0cHM6Ly8xZHJ2Lm1zL2kvYy9iZGU1MWU2MjVlZjhmY2M1L0VScWx2MEViaVpGTW56TEVqLTNwa1ZZQi1BSFBUYmRPYkJnYVh4M1B6Zkx4UVE_ZT1zd2xIc0g.png" alt="" /></p>
<p>条件编译的作用：</p>
<ol>
<li><strong>多行注释</strong>： 条件编译可以用来创建多行注释，这些注释在编译时会被编译器忽略。</li>
<li><strong>代码开关</strong>： 通过条件编译，可以定义代码开关，控制代码的包含或排除，从而实现不同版本的代码或功能的快速切换。</li>
<li><strong>可移植程序</strong>： 条件编译有助于编写可移植的程序，通过检测不同的平台或环境特征，包含适合特定平台的代码实现。</li>
<li><strong>头文件保护</strong>： 条件编译常用于防止头文件被多次包含，这是一种常见的编程实践，有助于避免编译错误和重定义问题。</li>
</ol>
<p>对于以下代码：</p>
<figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">// #define DEBUG</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>  <span class="token comment">// 在 vim 编辑器中实现多行注释，可以采用下列条件编译的方式</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">if</span> <span class="token expression"><span class="token number">0</span>    </span></span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"hello world!\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"hello world!\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"hello world!\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"hello world!\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"hello world!\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"hello world!\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"hello world!\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"hello world!\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"hello world!\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"hello world!\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"hello world!\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"hello world!\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span></pre></td></tr><tr><td data-num="20"></td><td><pre></pre></td></tr><tr><td data-num="21"></td><td><pre>  <span class="token comment">// 条件编译还可以作为一段代码的开关</span></pre></td></tr><tr><td data-num="22"></td><td><pre></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifdef</span> <span class="token expression">DEBUG</span></span></pre></td></tr><tr><td data-num="24"></td><td><pre>  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"今天中午去吃黄焖鸡米饭!\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"今天中午去吃黄焖鸡米饭!\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"今天中午去吃黄焖鸡米饭!\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span></pre></td></tr><tr><td data-num="28"></td><td><pre></pre></td></tr><tr><td data-num="29"></td><td><pre>  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p><img loading="lazy" data-src="https://dlink.host/1drv/aHR0cHM6Ly8xZHJ2Lm1zL2kvYy9iZGU1MWU2MjVlZjhmY2M1L0VhNmRwdVRvQXRkTHY2REI3S3Y3SnhJQnZjTkZGamxuYmxpa0QxWG5nNmEtWUE_ZT1BUHNMYXU.png" alt="" /></p>
<h3 id="头文件"><a class="anchor" href="#头文件">#</a> 头文件</h3>
<ol>
<li><strong>尖括号  <code>&lt;&gt;</code>  包含方式</strong>：
<ul>
<li>使用尖括号包含头文件时，编译器会在操作系统的标准头文件目录中搜索头文件。这种方式通常用于包含语言标准库的头文件。</li>
<li>在 Linux 系统中，默认的搜索路径通常是  <code>/usr/include</code> 。</li>
<li>尖括号包含不适用于自定义头文件，因为它们不会被搜索在用户目录下的文件。</li>
</ul>
</li>
<li><strong>双引号  <code>&quot;</code>  包含方式</strong>：
<ul>
<li>使用双引号包含头文件时，编译器首先会在当前目录中搜索头文件，如果找不到，然后才会在操作系统的标准头文件目录中搜索。</li>
<li>这种方式通常用于包含用户自定义的头文件。</li>
<li>虽然也可以使用双引号包含标准库头文件，但这不是推荐的做法。</li>
</ul>
</li>
<li><strong>搜索目录优先级</strong>：
<ul>
<li>包含指令的搜索路径可以通过特定的选项来改变，例如使用  <code>-I</code>  选项指定额外的搜索目录。</li>
<li>使用尖括号时，如果指定了  <code>-I</code>  选项，编译器会先在这些目录中搜索头文件，然后再搜索操作系统的标准头文件目录。</li>
<li>使用双引号时，编译器会先在当前目录搜索，然后是  <code>-I</code>  指定的目录，最后是操作系统的标准头文件目录。</li>
</ul>
</li>
</ol>
<h2 id="gdb"><a class="anchor" href="#gdb">#</a> GDB</h2>
<p>在 GCC 编译器平台中，访问随机或未定义的值通常会得到真正的随机值，这与 MSVC 平台相比，随机性更大。</p>
<ol>
<li><strong>未初始化的变量</strong>：MSVC 平台倾向于为未初始化的变量和被释放的内存空间赋予一个特定的值。这种做法可以帮助程序员更容易地发现和诊断错误。</li>
<li><strong>野指针行为</strong>：GCC 对野指针的宽容性较高，即使存在野指针，程序仍可能继续执行，甚至看似正常运行。相比之下，MSVC 在遇到野指针时可能完全无法执行或立即崩溃。</li>
<li><strong>程序员的注意事项</strong>：使用 GCC 编译器时，程序员需要更加细心和谨慎，以避免因随机性和对野指针的宽容性带来的潜在问题。</li>
</ol>
<h3 id="gdb-常用指令"><a class="anchor" href="#gdb-常用指令">#</a> GDB 常用指令</h3>
<p>要使用 GDB（GNU Debugger）进行程序调试，首先需要使用  <code>-g</code>  选项编译程序，以便在可执行文件中包含调试信息。</p>
<p>在 GDB 中设置断点与 Visual Studio (VS) 类似，可以使用以下命令：</p>
<ul>
<li><code>break/b [文件名:][行号|函数名]</code> ：在指定位置设置一个普通断点。</li>
<li><code>tbreak/tb [文件名:][行号|函数名]</code> ：设置一个临时断点。</li>
</ul>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td data-command="(gdb)"></td><td><pre>b <span class="token number">20</span>                          <span class="token comment"># 在第 20 行设置断点</span></pre></td></tr><tr><td data-num="2"></td><td data-command="(gdb)"></td><td><pre>b main                        <span class="token comment"># 在 main 函数的开头设置断点</span></pre></td></tr><tr><td data-num="3"></td><td data-command="(gdb)"></td><td><pre>b main.c:20                   <span class="token comment"># main.c 文件的第 20 行设置断点</span></pre></td></tr><tr><td data-num="4"></td><td data-command="(gdb)"></td><td><pre>b main.c:main                 <span class="token comment"># 在 main.c 文件的 main 函数开头设置断点</span></pre></td></tr></table></figure><p>查看源代码：</p>
<ul>
<li><code>list/l  [文件名:][行号|函数名]</code></li>
</ul>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td data-command="(gdb)"></td><td><pre>l                             <span class="token comment"># 下翻源代码</span></pre></td></tr><tr><td data-num="2"></td><td data-command="(gdb)"></td><td><pre>l -                           <span class="token comment"># 上翻源代码</span></pre></td></tr><tr><td data-num="3"></td><td data-command="(gdb)"></td><td><pre>l <span class="token number">20</span>                          <span class="token comment"># 查看启动程序 20 行附近的源代码</span></pre></td></tr><tr><td data-num="4"></td><td data-command="(gdb)"></td><td><pre>l main                        <span class="token comment"># 查看启动程序 main 函数附近的源代码</span></pre></td></tr><tr><td data-num="5"></td><td data-command="(gdb)"></td><td><pre>l main.c:20                   <span class="token comment"># main.c 文件第 20 行附近的源代码</span></pre></td></tr><tr><td data-num="6"></td><td data-command="(gdb)"></td><td><pre>l main.c:main                 <span class="token comment"># main.c 文件 main 函数附近的源代码</span></pre></td></tr></table></figure><p>查看断点信息：</p>
<ul>
<li><code>info break/i b</code> ：列出所有断点，可以省略到只剩下 i b，但空格不能省略，不能使用 ib</li>
</ul>
<p>删除断点：</p>
<ul>
<li><code>delete/d [n]</code> ：删除所有断点或指定编号的断点。</li>
</ul>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td data-command="(gdb)"></td><td><pre>d <span class="token number">2</span>               <span class="token comment"># 删除 2 号断点</span></pre></td></tr><tr><td data-num="2"></td><td data-command="(gdb)"></td><td><pre>d                 <span class="token comment"># 如果不加断点编号，则表示删除所有断点</span></pre></td></tr></table></figure><p>禁用和启用断点：</p>
<ul>
<li><code>disable/dis [n]</code> ：禁用所有断点或指定编号的断点。</li>
<li><code>enable/en [n]</code> ：启用所有断点或指定编号的断点。</li>
</ul>
<p>启动调试：</p>
<ul>
<li><code>run/r</code> ：启动或重启调试程序。</li>
<li><code>kill/k</code> ：停止调试程序。</li>
<li><code>quit/q</code> ：退出 GDB。</li>
</ul>
<p>单步调试和函数执行：</p>
<ul>
<li><code>step/s</code> ：单步进入函数内部。</li>
<li><code>finish/fin</code> ：执行完当前函数并返回到调用处。</li>
</ul>
<p>逐过程执行：</p>
<ul>
<li><code>next/n</code> ：逐过程执行，不进入函数内部。</li>
</ul>
<p>监视变量：</p>
<ul>
<li><code>print/p express</code> ：打印表达式的值。</li>
<li><code>display/disp express</code> ：持续显示表达式的值。</li>
<li><code>undisplay/undisp [n]</code> ：停止显示指定编号的表达式。</li>
<li><code>info display/i disp</code> ：显示所有持续显示的表达式信息。</li>
</ul>
<p>查看局部变量和参数：</p>
<ul>
<li><code>info/i args</code> ：查看函数参数。</li>
<li><code>info/i locals</code> ：查看局部变量。</li>
</ul>
<p>跳过断点：</p>
<ul>
<li><code>ignore N COUNT</code> ：忽略指定断点编号 N 的 COUNT 次。</li>
</ul>
<p>查看堆栈信息：</p>
<ul>
<li><code>bt/backtrace</code> ：查看当前调用堆栈。</li>
</ul>
<p>查看内存：</p>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>x/<span class="token punctuation">(</span>内存单元的个数<span class="token punctuation">)</span><span class="token punctuation">(</span>内存数据的输出格式<span class="token punctuation">)</span><span class="token punctuation">(</span>一个内存单元的大小<span class="token punctuation">)</span> 数组名/指针/地址值<span class="token punctuation">..</span>.</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment"># 该指令会从数组名 / 指针 / 地址值.. 开始，向后以 (内存数据的输出格式)，展示 (内存单元的个数) * (一个内存单元的大小) 的内存数据。</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment"># 内存单元的个数，直接输入一个整数即可。</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment"># 内存数据的输出格式有：</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token comment"># 1. o (octal)，八进制整数</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment"># 2. x (hex)，十六进制整数</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token comment"># 3. d (decimal)，十进制整数</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment"># 4. u (unsigned decimal)，无符号整数</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token comment"># 5. t (binary)，二进制整数</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token comment"># 6. f (float)，浮点数</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token comment"># 7. c (char)，字符</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token comment"># 8. a (address)，地址值</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token comment"># 9. c (character)：字符</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token comment"># 10. s (string)，字符串</span></pre></td></tr><tr><td data-num="18"></td><td><pre></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token comment"># 一个内存单元的大小的表示，有以下格式：</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token comment"># 1. b (byte)，一个字节</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token comment"># 2. h (halfword,  2 bytes)，二个字节</span></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token comment"># 3. w (word, 4 bytes)，四个字节</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token comment"># 4. g (giant, 8 bytes)，八个字节</span></pre></td></tr></table></figure><h3 id="代码示例"><a class="anchor" href="#代码示例">#</a> 代码示例</h3>
<figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name function">ARR_SIZE</span><span class="token expression"><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">int</span> nums<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">char</span><span class="token operator">*</span> strs<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">"abc"</span><span class="token punctuation">,</span> <span class="token string">"123"</span><span class="token punctuation">,</span> <span class="token string">"hello"</span><span class="token punctuation">,</span> <span class="token string">"777"</span><span class="token punctuation">,</span> <span class="token string">"666"</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">int</span> nums_len <span class="token operator">=</span> <span class="token function">ARR_SIZE</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">;</span> </pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">int</span> strs_len <span class="token operator">=</span> <span class="token function">ARR_SIZE</span><span class="token punctuation">(</span>strs<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token comment">// 断点可以打在这里下面然后用于查看内存</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p><img loading="lazy" data-src="https://dlink.host/1drv/aHR0cHM6Ly8xZHJ2Lm1zL2kvYy9iZGU1MWU2MjVlZjhmY2M1L0ViOWxNQjNISF90RG9nYmlZY2tXLWJrQndRaVhYakFJa0hnemRKZDUtUmc2aUE_ZT1GV2x0cW4.png" alt="" /></p>
<h2 id="库文件"><a class="anchor" href="#库文件">#</a> 库文件</h2>
<p>对于以下代码，有：</p>
<figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"hello world!\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p><img loading="lazy" data-src="https://dlink.host/1drv/aHR0cHM6Ly8xZHJ2Lm1zL2kvYy9iZGU1MWU2MjVlZjhmY2M1L0ViVHFVZjJ2YmZoSmdUMHpVQWVRcUE4QklTYVY2cVRUNHQyakdzZFktWnFPT2c_ZT0xWUtka0I.png" alt="" /></p>
<p><img loading="lazy" data-src="https://dlink.host/1drv/aHR0cHM6Ly8xZHJ2Lm1zL2kvYy9iZGU1MWU2MjVlZjhmY2M1L0VhNkExQTdOTVVCSHB0MkxGLWdiUnk0QjhHcUZHX0tHdlJHNlNhNVNDV0VxaUE_ZT1hMHNnYWo.png" alt="" /></p>
<p><strong>静态库文件</strong>：</p>
<ul>
<li>优点：可执行文件包含所有必需的库代码，无需额外依赖即可运行，提高了程序的自给自足性和环境独立性。</li>
<li>缺点：
<ol>
<li>增加可执行文件的大小，占用更多磁盘空间，同时可能导致内存使用增加。</li>
<li>静态库更新需要重新编译和分发可执行文件，增加了开发者的维护成本和用户的更新成本。</li>
</ol>
</li>
</ul>
<p><strong>动态库文件</strong>：</p>
<ul>
<li>优点：
<ol>
<li>减少可执行文件的大小，节省磁盘空间。</li>
<li>允许多个程序共享同一个库文件，减少内存占用，提高资源利用率。</li>
<li>库文件更新时，通常不需要重新编译可执行文件，简化了开发者的维护工作和用户的使用体验。</li>
</ol>
</li>
<li>缺点：
<ol>
<li>如果缺少必要的动态库，程序可能无法运行，影响程序的移植性。</li>
<li>运行时需要进行动态链接，可能会引入额外的性能开销。</li>
</ol>
</li>
</ul>
<h2 id="makefile"><a class="anchor" href="#makefile">#</a> Makefile</h2>
<p><strong> <code>Makefile</code>  的作用</strong>：  <code>Makefile</code>  是一种脚本文件，它主要用于解决以下两个问题：</p>
<ol>
<li><strong>增量编译</strong>：仅重新编译那些自上次构建以来已经发生变化的部分，从而提高构建效率。</li>
<li><strong>自动化构建规则</strong>：定义一套规则来自动化编译和链接过程，减少程序员的重复劳动。</li>
</ol>
<p><strong> <code>Makefile</code>  的本质</strong>： <code>Makefile</code>  本质上是一个包含编译指令的脚本文件，它规定了如何构建整个工程的可执行文件。</p>
<p><strong> <code>make</code>  指令</strong>：使用  <code>make</code>  指令可以触发  <code>Makefile</code>  中定义的构建规则，类似于 Visual Studio 中的启动按钮，但它不会自动执行，需要用户显式调用。</p>
<p><strong> <code>Makefile</code>  的优势</strong>：通过定义良好的  <code>Makefile</code> ， <code>make</code>  指令可以极大地简化构建过程，提高开发效率，同时确保构建的一致性和可重复性。</p>
<p><code>Makefile</code>  基础语法的概述：</p>
<p>规则（Rule）是  <code>Makefile</code>  的基本组成单位，每个规则定义了如何构建一个或多个目标。</p>
<p>规则的组成部分：</p>
<ol>
<li><strong>目标（Target）</strong>：规则要生成的文件或目标，通常是最终的可执行文件或中间对象文件。</li>
<li><strong>依赖（Dependencies）</strong>：目标文件依赖的源文件或其他目标，当依赖文件发生变化时，目标将被重新构建。</li>
<li><strong>指令（Commands）</strong>：实现规则的命令序列，通常是编译或链接命令。</li>
</ol>
<p>规则的基本格式：</p>
<figure class="highlight makefile"><figcaption data-lang="makefile"></figcaption><table><tr><td data-num="1"></td><td><pre>目标：依赖</pre></td></tr><tr><td data-num="2"></td><td><pre>    指令1</pre></td></tr><tr><td data-num="3"></td><td><pre>    指令2</pre></td></tr><tr><td data-num="4"></td><td><pre>    ...</pre></td></tr></table></figure><p>执行原理：</p>
<ul>
<li><code>Makefile</code>  定义了构建可执行程序的规则和依赖关系。</li>
<li>在项目的工作目录中创建名为 &quot;makefile&quot; 或 &quot;Makefile&quot; 的文件。</li>
<li>使用  <code>make</code>  命令来执行  <code>Makefile</code>  中定义的规则， <code>make</code>  会根据依赖关系和规则来决定是否需要重新构建目标。</li>
</ul>
<p>基本工作原理：</p>
<ul>
<li><code>Makefile</code>  中的每个规则都包含一个目标（通常是最终生成的文件）和一系列依赖。</li>
<li><code>make</code>  命令会检查目标文件是否存在，以及是否比其依赖项更新。</li>
</ul>
<p>最终目标的确定： <code>Makefile</code>  中的第一个目标通常被视为最终目标。</p>
<p>目标的更新：</p>
<ul>
<li>如果目标文件存在且是最新的（即其依赖项没有更新）， <code>make</code>  命令将不会执行任何操作。</li>
<li>如果目标文件不存在或其依赖项之一已更新， <code>make</code>  将递归地检查所有依赖项，并执行必要的命令来更新这些依赖项，最终更新目标文件。</li>
</ul>
<p>时间戳检查： <code>make</code>  命令通过比较目标文件和依赖文件的时间戳来确定目标是否过时。</p>
<p>处理不相关目标：如果  <code>Makefile</code>  中存在与最终目标无关的其他目标， <code>make</code>  将忽略它们，除非显式指定要构建这些目标。</p>
<p>使用  <code>make</code>  命令：执行  <code>make</code>  命令时，可以指定特定的目标来构建，或者不指定目标以构建最终目标。</p>
<p>对于以下  <code>Makefile</code> ，有：</p>
<figure class="highlight makefile"><figcaption data-lang="makefile"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token target symbol">main</span> <span class="token punctuation">:</span> main.o add.o</pre></td></tr><tr><td data-num="2"></td><td><pre>	gcc main.o	add.o -o main</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token target symbol">main.o</span> <span class="token punctuation">:</span> main.c compute.h</pre></td></tr><tr><td data-num="4"></td><td><pre>	gcc -c main.c -o main.o -Wall -g -O0</pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token target symbol">add.o</span> <span class="token punctuation">:</span> add.c compute.h</pre></td></tr><tr><td data-num="6"></td><td><pre>	gcc -c add.c -o add.o -Wall -g -O0</pre></td></tr></table></figure><p><img loading="lazy" data-src="https://dlink.host/1drv/aHR0cHM6Ly8xZHJ2Lm1zL2kvYy9iZGU1MWU2MjVlZjhmY2M1L0VXamdPVmVUSGhGTmtRZlVvVUhrQVJVQlVGMTdmWkNPRzlnX0ZFWUpTdXZnOWc_ZT1hSW1NQmk.png" alt="" /></p>
<p>在手动编译链接生成可执行程序的过程中，通常不会将头文件显式地写入编译命令中，因为编译器在处理源文件时会自动包含所需的头文件。然而，在编写  <code>Makefile</code>  时，需要将头文件作为最终可执行程序的依赖项之一。这是因为头文件的更新可能会改变程序的行为，如果头文件发生变化，显然需要重新编译生成最新的可执行程序。</p>
<p><img loading="lazy" data-src="https://dlink.host/1drv/aHR0cHM6Ly8xZHJ2Lm1zL2kvYy9iZGU1MWU2MjVlZjhmY2M1L0VXQ0tiOWVtekR0R2t1MDNWTDd5MlRnQk9JTkNjdmtkYUNhMmRQRnBoUl9neEE_ZT1IcHFHTHo.png" alt="Code_vLGz40Tyqg.png" /></p>
<p>若  <code>main</code>  最终目标存在且所有的依赖都没有被更新，那么  <code>main</code>  就已经是最新的了，不需要更新， <code>Makefile</code>  不会执行任何操作。</p>
<p>对于下面的  <code>Makefile</code>  ，使用  <code>make</code>  命令时会将所有的 .c 文件编译生成一个可执行文件 main</p>
<figure class="highlight makefile"><figcaption data-lang="makefile"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 定义编译器</span></pre></td></tr><tr><td data-num="2"></td><td><pre>CC<span class="token operator">=</span>gcc</pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment"># 定义编译选项</span></pre></td></tr><tr><td data-num="5"></td><td><pre>CFLAGS<span class="token operator">=</span>-Wall -g -O0</pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment"># 定义链接选项</span></pre></td></tr><tr><td data-num="8"></td><td><pre>LDFLAGS<span class="token operator">=</span></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token comment"># 定义目标文件</span></pre></td></tr><tr><td data-num="11"></td><td><pre>TARGET<span class="token operator">=</span>main</pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token comment"># 定义源文件列表</span></pre></td></tr><tr><td data-num="14"></td><td><pre>SRCS<span class="token operator">=</span>main.c add.c subtract.c</pre></td></tr><tr><td data-num="15"></td><td><pre></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token comment"># 从源文件列表生成对象文件列表</span></pre></td></tr><tr><td data-num="17"></td><td><pre>OBJS<span class="token operator">=</span><span class="token variable">$</span><span class="token punctuation">(</span>SRCS<span class="token punctuation">:</span>.c<span class="token operator">=</span>.o<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="18"></td><td><pre></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token comment"># 默认目标</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token target symbol">all</span><span class="token punctuation">:</span> <span class="token variable">$</span><span class="token punctuation">(</span>TARGET<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="21"></td><td><pre></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token comment"># 可执行文件依赖于所有的目标文件</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token target symbol"><span class="token variable">$</span>(TARGET)</span><span class="token punctuation">:</span> <span class="token variable">$</span><span class="token punctuation">(</span>OBJS<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="24"></td><td><pre>    <span class="token variable">$</span><span class="token punctuation">(</span>CC<span class="token punctuation">)</span> <span class="token variable">$</span><span class="token punctuation">(</span>LDFLAGS<span class="token punctuation">)</span> <span class="token variable">$^</span> -o <span class="token variable">$@</span></pre></td></tr><tr><td data-num="25"></td><td><pre></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token comment"># 从.c 文件生成.o 文件</span></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token target symbol">%.o</span><span class="token punctuation">:</span> %.c</pre></td></tr><tr><td data-num="28"></td><td><pre>    <span class="token variable">$</span><span class="token punctuation">(</span>CC<span class="token punctuation">)</span> <span class="token variable">$</span><span class="token punctuation">(</span>CFLAGS<span class="token punctuation">)</span> -c <span class="token variable">$&lt;</span> -o <span class="token variable">$@</span></pre></td></tr><tr><td data-num="29"></td><td><pre></pre></td></tr><tr><td data-num="30"></td><td><pre><span class="token comment"># 清理编译生成的文件</span></pre></td></tr><tr><td data-num="31"></td><td><pre><span class="token target symbol">clean</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="32"></td><td><pre>    <span class="token variable">$</span><span class="token punctuation">(</span>RM<span class="token punctuation">)</span> <span class="token variable">$</span><span class="token punctuation">(</span>OBJS<span class="token punctuation">)</span> <span class="token variable">$</span><span class="token punctuation">(</span>TARGET<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="33"></td><td><pre></pre></td></tr><tr><td data-num="34"></td><td><pre><span class="token comment"># 重建项目，先清理再重新构建</span></pre></td></tr><tr><td data-num="35"></td><td><pre><span class="token target symbol">rebuild</span><span class="token punctuation">:</span> clean all</pre></td></tr><tr><td data-num="36"></td><td><pre></pre></td></tr><tr><td data-num="37"></td><td><pre><span class="token comment"># 声明伪目标</span></pre></td></tr><tr><td data-num="38"></td><td><pre><span class="token builtin-target builtin">.PHONY</span><span class="token punctuation">:</span> all clean rebuild</pre></td></tr></table></figure><p>该  <code>Makefile</code>  说明如下：</p>
<ol>
<li>
<p><strong>编译器定义</strong> ( <code>CC</code> ):</p>
<figure class="highlight makefile"><figcaption data-lang="makefile"></figcaption><table><tr><td data-num="1"></td><td><pre>CC<span class="token operator">=</span>gcc</pre></td></tr></table></figure><p>这行定义了默认使用的编译器为  <code>gcc</code> ，你可以根据需要更换为其他编译器。</p>
</li>
<li>
<p><strong>编译选项</strong> ( <code>CFLAGS</code> ):</p>
<figure class="highlight makefile"><figcaption data-lang="makefile"></figcaption><table><tr><td data-num="1"></td><td><pre>CFLAGS<span class="token operator">=</span>-Wall -g -O0</pre></td></tr></table></figure><p>这里定义了编译时使用的选项。 <code>-Wall</code>  打开所有警告信息， <code>-g</code>  生成调试信息， <code>-O0</code>  表示不进行优化。</p>
</li>
<li>
<p><strong>链接选项</strong> ( <code>LDFLAGS</code> ):</p>
<figure class="highlight makefile"><figcaption data-lang="makefile"></figcaption><table><tr><td data-num="1"></td><td><pre>LDFLAGS<span class="token operator">=</span></pre></td></tr></table></figure><p>这里定义了链接时使用的选项，当前为空，但可以添加如库链接等选项。</p>
</li>
<li>
<p><strong>目标文件</strong> ( <code>TARGET</code> ):</p>
<figure class="highlight makefile"><figcaption data-lang="makefile"></figcaption><table><tr><td data-num="1"></td><td><pre>TARGET<span class="token operator">=</span>main</pre></td></tr></table></figure><p>定义了最终生成的可执行文件的名称。</p>
</li>
<li>
<p><strong>源文件列表</strong> ( <code>SRCS</code> ):</p>
<figure class="highlight makefile"><figcaption data-lang="makefile"></figcaption><table><tr><td data-num="1"></td><td><pre>SRCS<span class="token operator">=</span>main.c add.c subtract.c</pre></td></tr></table></figure><p>列出了所有需要编译的源文件。</p>
</li>
<li>
<p><strong>对象文件列表</strong> ( <code>OBJS</code> ):</p>
<figure class="highlight makefile"><figcaption data-lang="makefile"></figcaption><table><tr><td data-num="1"></td><td><pre>OBJS<span class="token operator">=</span><span class="token variable">$</span><span class="token punctuation">(</span>SRCS<span class="token punctuation">:</span>.c<span class="token operator">=</span>.o<span class="token punctuation">)</span></pre></td></tr></table></figure><p>使用模式替换规则，将  <code>SRCS</code>  列表中的  <code>.c</code>  扩展名替换为  <code>.o</code> ，生成目标文件（ <code>.o</code>  文件）的列表。</p>
</li>
<li>
<p><strong>默认目标</strong> ( <code>all</code> ):</p>
<figure class="highlight makefile"><figcaption data-lang="makefile"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token target symbol">all</span><span class="token punctuation">:</span> <span class="token variable">$</span><span class="token punctuation">(</span>TARGET<span class="token punctuation">)</span></pre></td></tr></table></figure><p>定义了默认目标  <code>all</code> ，当执行  <code>make</code>  命令时，如果没有指定目标，将执行这个目标。</p>
</li>
<li>
<p><strong>可执行文件依赖规则</strong> ( <code>$(TARGET): $(OBJS)</code> ):</p>
<figure class="highlight makefile"><figcaption data-lang="makefile"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token target symbol"><span class="token variable">$</span>(TARGET)</span><span class="token punctuation">:</span> <span class="token variable">$</span><span class="token punctuation">(</span>OBJS<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre>	<span class="token variable">$</span><span class="token punctuation">(</span>CC<span class="token punctuation">)</span> <span class="token variable">$</span><span class="token punctuation">(</span>LDFLAGS<span class="token punctuation">)</span> <span class="token variable">$^</span> -o <span class="token variable">$@</span></pre></td></tr></table></figure><p>定义了如何构建可执行文件  <code>$(TARGET)</code> ，它依赖于所有的  <code>.o</code>  文件。 <code>$^</code>  代表所有依赖项（这里是  <code>OBJS</code>  中的所有  <code>.o</code>  文件）， <code>-o $@</code>  指定输出文件的名称。</p>
</li>
<li>
<p><strong>从.c 文件生成.o 文件的规则</strong> ( <code>%.o: %.c</code> ):</p>
<figure class="highlight makefile"><figcaption data-lang="makefile"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token target symbol">%.o</span><span class="token punctuation">:</span> %.c</pre></td></tr><tr><td data-num="2"></td><td><pre>	<span class="token variable">$</span><span class="token punctuation">(</span>CC<span class="token punctuation">)</span> <span class="token variable">$</span><span class="token punctuation">(</span>CFLAGS<span class="token punctuation">)</span> -c <span class="token variable">$&lt;</span> -o <span class="token variable">$@</span></pre></td></tr></table></figure><p>这是一个模式规则，用于从每个  <code>.c</code>  文件生成对应的  <code>.o</code>  文件。 <code>$&lt;</code>  代表第一个依赖项，即对应的  <code>.c</code>  文件， <code>$@</code>  代表目标文件。</p>
</li>
<li>
<p><strong>清理规则</strong> ( <code>clean</code> ):</p>
<figure class="highlight makefile"><figcaption data-lang="makefile"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token target symbol">clean</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>	<span class="token variable">$</span><span class="token punctuation">(</span>RM<span class="token punctuation">)</span> <span class="token variable">$</span><span class="token punctuation">(</span>OBJS<span class="token punctuation">)</span> <span class="token variable">$</span><span class="token punctuation">(</span>TARGET<span class="token punctuation">)</span></pre></td></tr></table></figure><p><code>clean</code>  是一个伪目标，用于清理编译生成的所有  <code>.o</code>  文件和可执行文件。 <code>$(RM)</code>  是删除命令，这里假设为  <code>rm</code> ， <code>$(OBJS)</code>  和  <code>$(TARGET)</code>  是要被删除的文件列表。</p>
</li>
<li>
<p><strong>重建规则</strong> ( <code>rebuild</code> ):</p>
<figure class="highlight makefile"><figcaption data-lang="makefile"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token target symbol">rebuild</span><span class="token punctuation">:</span> clean all</pre></td></tr></table></figure><p><code>rebuild</code>  是一个伪目标，它首先调用  <code>clean</code>  目标清理所有生成的文件，然后调用  <code>all</code>  目标重新构建整个项目。</p>
</li>
<li>
<p><strong>伪目标声明</strong> ( <code>.PHONY</code> ):</p>
<figure class="highlight makefile"><figcaption data-lang="makefile"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token builtin-target builtin">.PHONY</span><span class="token punctuation">:</span> all clean rebuild</pre></td></tr></table></figure><p>声明了  <code>all</code> 、 <code>clean</code>  和  <code>rebuild</code>  为伪目标，即使存在同名的文件，也不会影响 Makefile 的行为。</p>
</li>
</ol>
<p>而对于以下   <code>Makefile</code>  ，使用  <code>make</code>  命令时会将所有的 .c 文件分别编译生成各自的可执行文件</p>
<figure class="highlight makefile"><figcaption data-lang="makefile"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 定义编译器</span></pre></td></tr><tr><td data-num="2"></td><td><pre>CC<span class="token operator">=</span>gcc</pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment"># 定义编译选项</span></pre></td></tr><tr><td data-num="5"></td><td><pre>CFLAGS<span class="token operator">=</span>-Wall -g</pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment"># 定义源文件列表</span></pre></td></tr><tr><td data-num="8"></td><td><pre>SRCS<span class="token operator">=</span>test.c test2.c test3.c</pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token comment"># 从源文件列表生成可执行文件列表</span></pre></td></tr><tr><td data-num="11"></td><td><pre>PROGS<span class="token operator">=</span>\<span class="token variable">$</span><span class="token punctuation">(</span>SRCS<span class="token punctuation">:</span>.c<span class="token operator">=</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token comment"># 默认目标</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token target symbol">all</span><span class="token punctuation">:</span> \<span class="token variable">$</span><span class="token punctuation">(</span>PROGS<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="15"></td><td><pre></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token comment"># 规则：每个可执行文件都依赖于同名的.c 文件</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token target symbol">%</span><span class="token punctuation">:</span> %.c</pre></td></tr><tr><td data-num="18"></td><td><pre>	\<span class="token variable">$</span><span class="token punctuation">(</span>CC<span class="token punctuation">)</span> \<span class="token variable">$</span><span class="token punctuation">(</span>CFLAGS<span class="token punctuation">)</span> \<span class="token variable">$&lt;</span> -o \<span class="token variable">$@</span></pre></td></tr><tr><td data-num="19"></td><td><pre></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token comment"># 清理编译生成的文件</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token target symbol">clean</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	rm -f \<span class="token variable">$</span><span class="token punctuation">(</span>PROGS<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="23"></td><td><pre></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token comment"># 重建项目，先清理再重新构建</span></pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token target symbol">rebuild</span><span class="token punctuation">:</span> clean all</pre></td></tr><tr><td data-num="26"></td><td><pre></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token comment"># 声明伪目标</span></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token builtin-target builtin">.PHONY</span><span class="token punctuation">:</span> all clean rebuild</pre></td></tr></table></figure><p>该  <code>Makefile</code>  说明如下：</p>
<ol>
<li>
<p><strong>编译器定义</strong> ( <code>CC</code> ):</p>
<figure class="highlight makefile"><figcaption data-lang="makefile"></figcaption><table><tr><td data-num="1"></td><td><pre>CC<span class="token operator">=</span>gcc</pre></td></tr></table></figure><p>这行定义了默认的编译器为  <code>gcc</code> ，你可以替换为其他编译器，如  <code>clang</code> 。</p>
</li>
<li>
<p><strong>编译选项</strong> ( <code>CFLAGS</code> ):</p>
<figure class="highlight makefile"><figcaption data-lang="makefile"></figcaption><table><tr><td data-num="1"></td><td><pre>CFLAGS<span class="token operator">=</span>-Wall -g</pre></td></tr></table></figure><p>这里定义了编译时使用的选项。 <code>-Wall</code>  表示打开所有警告信息， <code>-g</code>  表示生成调试信息。</p>
</li>
<li>
<p><strong>源文件列表</strong> ( <code>SRCS</code> ):</p>
<figure class="highlight makefile"><figcaption data-lang="makefile"></figcaption><table><tr><td data-num="1"></td><td><pre>SRCS<span class="token operator">=</span>test.c test2.c test3.c</pre></td></tr></table></figure><p>定义了所有源文件的列表，这些文件将被编译成独立的可执行程序。</p>
</li>
<li>
<p><strong>可执行文件列表</strong> ( <code>PROGS</code> ):</p>
<figure class="highlight makefile"><figcaption data-lang="makefile"></figcaption><table><tr><td data-num="1"></td><td><pre>PROGS<span class="token operator">=</span><span class="token variable">$</span><span class="token punctuation">(</span>SRCS<span class="token punctuation">:</span>.c<span class="token operator">=</span><span class="token punctuation">)</span></pre></td></tr></table></figure><p>使用模式替换规则，将  <code>SRCS</code>  列表中的  <code>.c</code>  扩展名替换为空（即去掉扩展名），生成可执行文件的列表。这将生成  <code>test</code> 、 <code>test2</code>  和  <code>test3</code> 。</p>
</li>
<li>
<p><strong>默认目标</strong> ( <code>all</code> ):</p>
<figure class="highlight makefile"><figcaption data-lang="makefile"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token target symbol">all</span><span class="token punctuation">:</span> \<span class="token variable">$</span><span class="token punctuation">(</span>PROGS<span class="token punctuation">)</span></pre></td></tr></table></figure><p>定义了默认目标  <code>all</code> ，当执行  <code>make</code>  命令时，如果没有指定目标，将执行这个目标。这里它依赖于  <code>$(PROGS)</code> ，即所有可执行文件。</p>
</li>
<li>
<p><strong>编译规则</strong> ( <code>%: %.c</code> ):</p>
<figure class="highlight makefile"><figcaption data-lang="makefile"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token target symbol">%</span><span class="token punctuation">:</span> %.c</pre></td></tr><tr><td data-num="2"></td><td><pre>\<span class="token variable">$</span><span class="token punctuation">(</span>CC<span class="token punctuation">)</span> <span class="token variable">$</span><span class="token punctuation">(</span>CFLAGS<span class="token punctuation">)</span> <span class="token variable">$&lt;</span> -o <span class="token variable">$@</span></pre></td></tr></table></figure><p>这是一个模式规则， <code>%</code>  是一个通配符，可以匹配任何字符串。这里它匹配任何没有扩展名的文件名（因为我们在  <code>PROGS</code>  中去掉了  <code>.c</code>  扩展名）。 <code>$&lt;</code>  是自动变量，代表第一个依赖项，即对应的  <code>.c</code>  文件。 <code>$@</code>  是自动变量，代表目标文件。这行命令将编译器、编译选项、源文件和输出目标串联起来，生成可执行文件。</p>
</li>
<li>
<p><strong>清理规则</strong> ( <code>clean</code> ):</p>
<figure class="highlight makefile"><figcaption data-lang="makefile"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token target symbol">clean</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>	rm -f <span class="token variable">$</span><span class="token punctuation">(</span>PROGS<span class="token punctuation">)</span></pre></td></tr></table></figure><p><code>clean</code>  是一个伪目标，用于清理生成的所有可执行文件。 <code>rm -f</code>  命令用于删除文件， <code>-f</code>  选项表示即使文件不存在也不会显示错误信息。</p>
</li>
<li>
<p><strong>重建规则</strong> ( <code>rebuild</code> ):</p>
<figure class="highlight makefile"><figcaption data-lang="makefile"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token target symbol">rebuild</span><span class="token punctuation">:</span> clean all</pre></td></tr></table></figure><p><code>rebuild</code>  也是一个伪目标，它首先调用  <code>clean</code>  目标清理所有生成的文件，然后调用  <code>all</code>  目标重新构建所有可执行文件。</p>
</li>
<li>
<p><strong>伪目标声明</strong> ( <code>.PHONY</code> ):</p>
<figure class="highlight makefile"><figcaption data-lang="makefile"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token builtin-target builtin">.PHONY</span><span class="token punctuation">:</span> all clean rebuild</pre></td></tr></table></figure><p>这行声明了  <code>all</code> 、 <code>clean</code>  和  <code>rebuild</code>  为目标，即使存在同名的文件，也不会影响 Makefile 的行为。</p>
</li>
</ol>
<div class="tags"><a href="/tags/c/" rel="tag"><i class="ic i-tag"></i>C</a><a href="/tags/linux/" rel="tag"><i class="ic i-tag"></i>Linux</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i></span><span class="text">更新于</span><time title="修改时间：2024-12-13 13:17:12" itemprop="dateModified" datetime="2024-12-13T13:17:12+08:00">2024-12-13</time></span></div><div id="copyright"><ul><li class="author"><strong>本文作者：</strong>樱小路七叶<i class="ic i-at"><em>@</em></i>Nana7ha's Café Stella</li><li class="link"><strong>本文链接：</strong><a href="http://cwlrin.github.io/c-cpp/linux-c/Linux%20C%20%E5%9F%BA%E7%A1%80/" title="Linux C 基础">http://cwlrin.github.io/c-cpp/linux-c/Linux C 基础/</a></li><li class="license"><strong>版权声明：</strong>本站所有文章除特别声明外，均采用 <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</a> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/c-cpp/c-base/C%20%E8%AF%AD%E8%A8%80%E6%96%87%E4%BB%B6%E6%B5%81/" rel="prev" itemprop="url" title="C 语言文件流" style="background-image: linear-gradient(to bottom right, #d3c3ce, #82ee8e);"><span class="type">上一篇</span><span class="category"><i class="ic i-flag"></i>C 语言基础</span><h3>C 语言文件流</h3></a></div><div class="item right"><a href="/c-cpp/linux-c/Linux%20%E6%9D%82%E9%A1%B9/" rel="next" itemprop="url" title="Linux 杂项" style="background-image: linear-gradient(to bottom right, #83bb92, #9cbdd4);"><span class="type">下一篇</span><span class="category"><i class="ic i-flag"></i>Linux C</span><h3>Linux 杂项</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#c-%E8%AF%AD%E8%A8%80%E6%A0%87%E5%87%86"><span class="toc-number">1.</span> <span class="toc-text"> C 语言标准</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">2.</span> <span class="toc-text"> 重定向</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#c-%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">2.1.</span> <span class="toc-text"> C 语言中的重定向</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%87%8D%E5%AE%9A%E5%90%91%E6%A0%87%E5%87%86%E8%BE%93%E5%85%A5%E5%92%8C%E7%9B%B4%E6%8E%A5%E4%BB%8E%E6%96%87%E4%BB%B6%E8%AF%BB%E6%95%B0%E6%8D%AE"><span class="toc-number">2.2.</span> <span class="toc-text"> 重定向标准输入和直接从文件读数据</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BC%96%E8%AF%91%E5%92%8C%E9%93%BE%E6%8E%A5"><span class="toc-number">3.</span> <span class="toc-text"> 编译和链接</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%96%E8%AF%91%E5%92%8C%E9%93%BE%E6%8E%A5%E7%9A%84%E8%BF%87%E7%A8%8B"><span class="toc-number">3.1.</span> <span class="toc-text"> 编译和链接的过程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#gcc-%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">3.2.</span> <span class="toc-text"> GCC 的使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%B4%E6%96%87%E4%BB%B6"><span class="toc-number">3.3.</span> <span class="toc-text"> 头文件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#gdb"><span class="toc-number">4.</span> <span class="toc-text"> GDB</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#gdb-%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4"><span class="toc-number">4.1.</span> <span class="toc-text"> GDB 常用指令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B"><span class="toc-number">4.2.</span> <span class="toc-text"> 代码示例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BA%93%E6%96%87%E4%BB%B6"><span class="toc-number">5.</span> <span class="toc-text"> 库文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#makefile"><span class="toc-number">6.</span> <span class="toc-text"> Makefile</span></a></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li  class="active"><a href="/c-cpp/linux-c/Linux%20C%20%E5%9F%BA%E7%A1%80/" rel="bookmark" title="Linux C 基础">Linux C 基础</a></li><li ><a href="/c-cpp/linux-c/Linux%20%E6%9D%82%E9%A1%B9/" rel="bookmark" title="Linux 杂项">Linux 杂项</a></li><li ><a href="/c-cpp/linux-c/Linux%20%E7%9B%AE%E5%BD%95%E6%B5%81/" rel="bookmark" title="Linux 目录流">Linux 目录流</a></li><li ><a href="/c-cpp/linux-c/Linux%20%E6%96%87%E4%BB%B6%E6%B5%81/" rel="bookmark" title="Linux 文件流">Linux 文件流</a></li><li ><a href="/c-cpp/linux-c/Linux%20%E7%AE%A1%E9%81%93%E5%92%8C%20IO%20%E5%A4%9A%E8%B7%AF%E5%A4%8D%E7%94%A8/" rel="bookmark" title="Linux 管道和 IO 多路复用">Linux 管道和 IO 多路复用</a></li><li ><a href="/c-cpp/linux-c/Linux%20%E8%BF%9B%E7%A8%8B%EF%BC%88%E4%B8%8A%EF%BC%89/" rel="bookmark" title="Linux 进程（上）">Linux 进程（上）</a></li><li ><a href="/c-cpp/linux-c/Linux%20%E8%BF%9B%E7%A8%8B%EF%BC%88%E4%B8%8B%EF%BC%89/" rel="bookmark" title="Linux 进程（下）">Linux 进程（下）</a></li><li ><a href="/c-cpp/linux-c/Linux%20%E8%BF%9B%E7%A8%8B%E9%97%B4%E9%80%9A%E4%BF%A1/" rel="bookmark" title="Linux 进程间通信">Linux 进程间通信</a></li><li ><a href="/c-cpp/linux-c/Linux%20%E4%BF%A1%E5%8F%B7/" rel="bookmark" title="Linux 信号">Linux 信号</a></li><li ><a href="/c-cpp/linux-c/Linux%20%E7%BA%BF%E7%A8%8B/" rel="bookmark" title="Linux 线程">Linux 线程</a></li><li ><a href="/c-cpp/linux-c/Linux%20%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%90%8C%E6%AD%A5%E5%92%8C%E4%BA%92%E6%96%A5/" rel="bookmark" title="Linux 线程的同步和互斥.md">Linux 线程的同步和互斥.md</a></li><li ><a href="/c-cpp/linux-c/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE/" rel="bookmark" title="网络协议">网络协议</a></li><li ><a href="/c-cpp/linux-c/Linux%20%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/" rel="bookmark" title="Linux 网络编程">Linux 网络编程</a></li><li ><a href="/c-cpp/linux-c/Linux%20%E8%BF%9B%E7%A8%8B%E6%B1%A0/" rel="bookmark" title="Linux 进程池">Linux 进程池</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><img class="image" loading="lazy" decoding="async" itemprop="image" alt="樱小路七叶" src="/assets/avatar.jpg"/><p class="name" itemprop="name">樱小路七叶</p><div class="description" itemprop="description">技术与美日新月异</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">97</span><span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">12</span><span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">15</span><span class="name">标签</span></a></div></nav><div class="social"><a target="_blank" rel="noopener" href="https://github.com/cwlrin" class="item github" title="https:&#x2F;&#x2F;github.com&#x2F;cwlrin"><i class="ic i-github"></i></a><a target="_blank" rel="noopener" href="https://www.zhihu.com/people/ying-xiao-lu-qi-ye" class="item zhihu" title="https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;ying-xiao-lu-qi-ye"><i class="ic i-zhihu"></i></a><a target="_blank" rel="noopener" href="https://music.163.com/#/user/home?id=411590211" class="item music" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;user&#x2F;home?id&#x3D;411590211"><i class="ic i-cloud-music"></i></a><a target="_blank" rel="noopener" href="https://space.bilibili.com/8013992" class="item bilibili" title="https:&#x2F;&#x2F;space.bilibili.com&#x2F;8013992"><i class="ic i-bilibili"></i></a></div><div class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item dropdown"><a href="#" onclick="return false;"><i class="ic i-user"></i>关于</a><ul class="submenu"><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于本站</a></li><li class="item"><a href="/admiration/" rel="section"><i class="ic i-coffee"></i>赞赏博主</a></li></ul></li><li class="item dropdown"><a href="#" onclick="return false;"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>友链</a></li></div></div></div></div><ul id="quick"><li class="prev pjax"><a href="/c-cpp/linux-c/Linux%20%E6%9D%82%E9%A1%B9/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/c-cpp/c-base/C%20%E8%AF%AD%E8%A8%80%E6%96%87%E4%BB%B6%E6%B5%81/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"></div><div class="status"><div class="copyright">&copy; 2020 -<span itemprop="copyrightYear">2024</span><span class="with-love"><i class="ic i-sakura rotate"></i></span><span class="author" itemprop="copyrightHolder">樱小路七叶 @ 七葉の喫茶ステラ</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i></span><span title="站点总字数">1.5m 字</span><span class="post-meta-divider"> | </span><span class="post-meta-item-icon"><i class="ic i-coffee"></i></span><span title="站点阅读时长">22:36</span></div><div class="powered-by">基于 <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a> & Theme.<a target="_blank" rel="noopener" href="https://github.com/theme-shoka-x/hexo-theme-shokaX/">ShokaX</a></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL = {
    ispost: true,
        path: `c-cpp/linux-c/Linux C 基础/`,
        favicon: {
        show: `（●´3｀●）やれやれだぜ`,
        hide: `(´Д｀)大変だ！`
    },
    search: {
        placeholder: "文章搜索",
        empty: "关于 「 ${query} 」，什么也没搜到",
        stats: "${time} ms 内找到 ${hits} 条结果"
    },
    copy_tex: false,
    katex: false,
    mermaid: false,
    audio: undefined,
    fancybox: true,
    nocopy: false,
    outime: true,
    template: `<div class="note warning"><p><span class="label warning">文章时效性提示</span><br>这是一篇发布于 {{publish}} 天前，最后一次更新在 {{updated}} 天前的文章，部分信息可能已经发生改变，请注意甄别。</p></div>`,
    quiz: {
        choice: `单选题`,
        multiple: `多选题`,
        true_false: `判断题`,
        essay: `问答题`,
        gap_fill: `填空题`,
        mistake: `错题备注`
    },
    ignores: [
        (uri) => uri.includes('#'),
        (uri) => new RegExp(LOCAL.path + '$').test(uri),
            []
    ]
};
</script><script src="https://s4.zstatic.net/ajax/libs/pace/1.2.4/pace.min.js" integrity="sha384-k6YtvFUEIuEFBdrLKJ3YAUbBki333tj1CSUisai5Cswsg9wcLNaPzsTHDswp4Az8" crossorigin="anonymous" fetchpriority="high"></script><script src="https://s4.zstatic.net/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha384-ZvpUoO&#x2F;+PpLXR1lu4jmpXWu80pZlYUAfxl5NsBMWOEPSjUn&#x2F;6Z&#x2F;hRTt8+pR6L4N2" crossorigin="anonymous" fetchpriority="high"></script><script src="/js/siteInit.js?v=0.4.14" type="module" fetchpriority="high" defer></script></body></html>