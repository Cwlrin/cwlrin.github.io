<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"/><meta name="theme-color" content="#222"/><meta http-equiv="X-UA-COMPATIBLE" content="IE=edge,chrome=1"/><meta name="renderer" content="webkit"/><link rel="icon" type="image/ico" sizes="32x32" href="/assets/favicon.ico"/><link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png"/><link rel="alternate" href="/rss.xml" title="Nana7ha's Café Stella" type="application/rss+xml"><link rel="alternate" href="/atom.xml" title="Nana7ha's Café Stella" type="application/atom+xml"><link rel="alternate" type="application/json" title="Nana7ha's Café Stella" href="http://cwlrin.wiki/feed.json"/><link rel="preconnect" href="https://s4.zstatic.net"/><link rel="preconnect" href="https://at.alicdn.com"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Mulish:400,400italic,700,700italic%7CFredericka%20the%20Great:400,400italic,700,700italic%7CNoto%20Serif%20JP:400,400italic,700,700italic%7CNoto%20Serif%20SC:400,400italic,700,700italic%7CInconsolata:400,400italic,700,700italic&display=swap&subset=latin,latin-ext" media="none" onload="this.media&#x3D;&#39;all&#39;"><link rel="stylesheet" href="/css/app.css?v=0.4.17"><link rel="modulepreload" href="/js/chunk-3QGRG5LW.js"></link><link rel="modulepreload" href="/js/chunk-6PA4RIYE.js"></link><link rel="modulepreload" href="/js/chunk-ULDLZUN6.js"></link><link rel="modulepreload" href="/js/copy-tex-WIDDPIN5.js"></link><link rel="modulepreload" href="/js/index.esm-WDFDRV4Q.js"></link><link rel="modulepreload" href="/js/post-HV5JVMFP.js"></link><link rel="modulepreload" href="/js/quicklink-DS2NURSV.js"></link><link rel="modulepreload" href="/js/siteInit.js"></link><link rel="preload" href="h" as="image" fetchpriority="high"><link rel="preload" href="t" as="image" fetchpriority="high"><link rel="preload" href="t" as="image" fetchpriority="high"><link rel="preload" href="p" as="image" fetchpriority="high"><link rel="preload" href="s" as="image" fetchpriority="high"><link rel="preload" href=":" as="image" fetchpriority="high"><link rel="preload" href="/" as="image" fetchpriority="high"><link rel="preload" href="/" as="image" fetchpriority="high"><link rel="preload" href="d" as="image" fetchpriority="high"><link rel="preload" href="l" as="image" fetchpriority="high"><link rel="preload" href="i" as="image" fetchpriority="high"><link rel="preload" href="n" as="image" fetchpriority="high"><link rel="preload" href="k" as="image" fetchpriority="high"><link rel="preload" href="." as="image" fetchpriority="high"><link rel="preload" href="h" as="image" fetchpriority="high"><link rel="preload" href="o" as="image" fetchpriority="high"><link rel="preload" href="s" as="image" fetchpriority="high"><link rel="preload" href="t" as="image" fetchpriority="high"><link rel="preload" href="/" as="image" fetchpriority="high"><link rel="preload" href="1" as="image" fetchpriority="high"><link rel="preload" href="d" as="image" fetchpriority="high"><link rel="preload" href="r" as="image" fetchpriority="high"><link rel="preload" href="v" as="image" fetchpriority="high"><link rel="preload" href="/" as="image" fetchpriority="high"><link rel="preload" href="a" as="image" fetchpriority="high"><link rel="preload" href="H" as="image" fetchpriority="high"><link rel="preload" href="R" as="image" fetchpriority="high"><link rel="preload" href="0" as="image" fetchpriority="high"><link rel="preload" href="c" as="image" fetchpriority="high"><link rel="preload" href="H" as="image" fetchpriority="high"><link rel="preload" href="M" as="image" fetchpriority="high"><link rel="preload" href="6" as="image" fetchpriority="high"><link rel="preload" href="L" as="image" fetchpriority="high"><link rel="preload" href="y" as="image" fetchpriority="high"><link rel="preload" href="8" as="image" fetchpriority="high"><link rel="preload" href="x" as="image" fetchpriority="high"><link rel="preload" href="Z" as="image" fetchpriority="high"><link rel="preload" href="H" as="image" fetchpriority="high"><link rel="preload" href="J" as="image" fetchpriority="high"><link rel="preload" href="2" as="image" fetchpriority="high"><link rel="preload" href="L" as="image" fetchpriority="high"><link rel="preload" href="m" as="image" fetchpriority="high"><link rel="preload" href="1" as="image" fetchpriority="high"><link rel="preload" href="z" as="image" fetchpriority="high"><link rel="preload" href="L" as="image" fetchpriority="high"><link rel="preload" href="2" as="image" fetchpriority="high"><link rel="preload" href="k" as="image" fetchpriority="high"><link rel="preload" href="v" as="image" fetchpriority="high"><link rel="preload" href="Y" as="image" fetchpriority="high"><link rel="preload" href="y" as="image" fetchpriority="high"><link rel="preload" href="9" as="image" fetchpriority="high"><link rel="preload" href="i" as="image" fetchpriority="high"><link rel="preload" href="Z" as="image" fetchpriority="high"><link rel="preload" href="G" as="image" fetchpriority="high"><link rel="preload" href="U" as="image" fetchpriority="high"><link rel="preload" href="1" as="image" fetchpriority="high"><link rel="preload" href="M" as="image" fetchpriority="high"><link rel="preload" href="W" as="image" fetchpriority="high"><link rel="preload" href="U" as="image" fetchpriority="high"><link rel="preload" href="2" as="image" fetchpriority="high"><link rel="preload" href="M" as="image" fetchpriority="high"><link rel="preload" href="j" as="image" fetchpriority="high"><link rel="preload" href="V" as="image" fetchpriority="high"><link rel="preload" href="l" as="image" fetchpriority="high"><link rel="preload" href="Z" as="image" fetchpriority="high"><link rel="preload" href="j" as="image" fetchpriority="high"><link rel="preload" href="h" as="image" fetchpriority="high"><link rel="preload" href="m" as="image" fetchpriority="high"><link rel="preload" href="Y" as="image" fetchpriority="high"><link rel="preload" href="2" as="image" fetchpriority="high"><link rel="preload" href="M" as="image" fetchpriority="high"><link rel="preload" href="1" as="image" fetchpriority="high"><link rel="preload" href="L" as="image" fetchpriority="high"><link rel="preload" href="0" as="image" fetchpriority="high"><link rel="preload" href="V" as="image" fetchpriority="high"><link rel="preload" href="X" as="image" fetchpriority="high"><link rel="preload" href="V" as="image" fetchpriority="high"><link rel="preload" href="n" as="image" fetchpriority="high"><link rel="preload" href="R" as="image" fetchpriority="high"><link rel="preload" href="z" as="image" fetchpriority="high"><link rel="preload" href="Y" as="image" fetchpriority="high"><link rel="preload" href="X" as="image" fetchpriority="high"><link rel="preload" href="h" as="image" fetchpriority="high"><link rel="preload" href="K" as="image" fetchpriority="high"><link rel="preload" href="R" as="image" fetchpriority="high"><link rel="preload" href="n" as="image" fetchpriority="high"><link rel="preload" href="Z" as="image" fetchpriority="high"><link rel="preload" href="O" as="image" fetchpriority="high"><link rel="preload" href="R" as="image" fetchpriority="high"><link rel="preload" href="G" as="image" fetchpriority="high"><link rel="preload" href="l" as="image" fetchpriority="high"><link rel="preload" href="n" as="image" fetchpriority="high"><link rel="preload" href="S" as="image" fetchpriority="high"><link rel="preload" href="W" as="image" fetchpriority="high"><link rel="preload" href="t" as="image" fetchpriority="high"><link rel="preload" href="j" as="image" fetchpriority="high"><link rel="preload" href="R" as="image" fetchpriority="high"><link rel="preload" href="l" as="image" fetchpriority="high"><link rel="preload" href="k" as="image" fetchpriority="high"><link rel="preload" href="4" as="image" fetchpriority="high"><link rel="preload" href="V" as="image" fetchpriority="high"><link rel="preload" href="0" as="image" fetchpriority="high"><link rel="preload" href="F" as="image" fetchpriority="high"><link rel="preload" href="V" as="image" fetchpriority="high"><link rel="preload" href="Q" as="image" fetchpriority="high"><link rel="preload" href="m" as="image" fetchpriority="high"><link rel="preload" href="4" as="image" fetchpriority="high"><link rel="preload" href="0" as="image" fetchpriority="high"><link rel="preload" href="N" as="image" fetchpriority="high"><link rel="preload" href="2" as="image" fetchpriority="high"><link rel="preload" href="l" as="image" fetchpriority="high"><link rel="preload" href="O" as="image" fetchpriority="high"><link rel="preload" href="M" as="image" fetchpriority="high"><link rel="preload" href="F" as="image" fetchpriority="high"><link rel="preload" href="l" as="image" fetchpriority="high"><link rel="preload" href="6" as="image" fetchpriority="high"><link rel="preload" href="d" as="image" fetchpriority="high"><link rel="preload" href="D" as="image" fetchpriority="high"><link rel="preload" href="h" as="image" fetchpriority="high"><link rel="preload" href="C" as="image" fetchpriority="high"><link rel="preload" href="Y" as="image" fetchpriority="high"><link rel="preload" href="j" as="image" fetchpriority="high"><link rel="preload" href="Z" as="image" fetchpriority="high"><link rel="preload" href="k" as="image" fetchpriority="high"><link rel="preload" href="d" as="image" fetchpriority="high"><link rel="preload" href="U" as="image" fetchpriority="high"><link rel="preload" href="w" as="image" fetchpriority="high"><link rel="preload" href="2" as="image" fetchpriority="high"><link rel="preload" href="W" as="image" fetchpriority="high"><link rel="preload" href="G" as="image" fetchpriority="high"><link rel="preload" href="F" as="image" fetchpriority="high"><link rel="preload" href="S" as="image" fetchpriority="high"><link rel="preload" href="a" as="image" fetchpriority="high"><link rel="preload" href="E" as="image" fetchpriority="high"><link rel="preload" href="E" as="image" fetchpriority="high"><link rel="preload" href="_" as="image" fetchpriority="high"><link rel="preload" href="Z" as="image" fetchpriority="high"><link rel="preload" href="T" as="image" fetchpriority="high"><link rel="preload" href="1" as="image" fetchpriority="high"><link rel="preload" href="3" as="image" fetchpriority="high"><link rel="preload" href="T" as="image" fetchpriority="high"><link rel="preload" href="G" as="image" fetchpriority="high"><link rel="preload" href="t" as="image" fetchpriority="high"><link rel="preload" href="a" as="image" fetchpriority="high"><link rel="preload" href="U" as="image" fetchpriority="high"><link rel="preload" href="G" as="image" fetchpriority="high"><link rel="preload" href="E" as="image" fetchpriority="high"><link rel="preload" href="." as="image" fetchpriority="high"><link rel="preload" href="p" as="image" fetchpriority="high"><link rel="preload" href="n" as="image" fetchpriority="high"><link rel="preload" href="g" as="image" fetchpriority="high"><meta name="description" content="技术与美日新月异"/><link rel="canonical" href="http://cwlrin.wiki/misc/Ren-Py-%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B/"><title>Ren'Py 基础教程</title><meta name="generator" content="Hexo 7.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">Ren'Py 基础教程</h1><div class="meta"><span class="item" title="创建时间：2021-08-26 17:02:04"><span class="icon"><i class="ic i-calendar"></i></span><span class="text">发表于</span><time itemprop="dateCreated datePublished" datetime="2021-08-26T17:02:04+08:00">2021-08-26</time></span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i></span><span class="text">本文字数</span><span>8.6k</span><span class="text">字</span></span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i></span><span class="text">阅读时长</span><span>8 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span><span class="line"></span><span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">七葉の喫茶ステラ</a></li></ul><ul class="right" id="rightNav"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div class="pjax" id="imgs"><img src="https://dlink.host/1drv/aHR0cHM6Ly8xZHJ2Lm1zL2kvYy9iZGU1MWU2MjVlZjhmY2M1L0VXVnRzYXhKRnZORGlnSWtjRlk4V0FVQm40N2lOMFl6dDhCYjZkdUw2WGFSaEE_ZT13TGtaUGE.png" loading="eager" decoding="async" fetchpriority="high" alt="Nana7ha's Café Stella"></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"></path></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"></use><use xlink:href="#gentle-wave" x="48" y="3"></use><use xlink:href="#gentle-wave" x="48" y="5"></use><use xlink:href="#gentle-wave" x="48" y="7"></use></g></svg></div><main><div class="inner"><div class="pjax" id="main"><div class="article wrap"><div class="breadcrumb" itemListElement itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i><span><a href="/">首页</a></span><i class="ic i-angle-right"></i><span class="current" itemprop="itemListElement" itemscope="itemscope" itemtype="https://schema.org/ListItem"><a href="/categories/misc/" itemprop="item" rel="index" title="分类于杂项"><span itemprop="name">杂项<meta itemprop="position" content="0"/></span></a></span></div><article class="post block" itemscope="itemscope" itemtype="http://schema.org/Article" lang="zh-CN"><link itemprop="mainEntityOfPage" href="http://cwlrin.wiki/misc/Ren-Py-%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B/"/><span hidden="hidden" itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="image" content="/assets/avatar.jpg"/><meta itemprop="name" content="樱小路七叶"/><meta itemprop="description" content=", 技术与美日新月异"/></span><span hidden="hidden" itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="Nana7ha's Café Stella"/></span><div class="body md" itemprop="articleBody"><h1 id="角色"><a class="anchor" href="#角色">#</a> 角色</h1>
<p>有角色的对话，需要  <code>define</code>  一个  <code>Character</code>  ，然后调用角色对应的标签才可以运行。</p>
<p>多行对话时，可以使用三引号来区分，然后用回车键来隔开。</p>
<figure class="highlight renpy"><figcaption data-lang="Ren'py"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">define</span> a <span class="token operator">=</span> <span class="token function">Character</span><span class="token punctuation">(</span><span class="token string">'alice'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token tag">label</span> start<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    a <span class="token string">"Hello world!"</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token string">"Hello world!"</span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre>    a <span class="token string">"""</pre></td></tr><tr><td data-num="9"></td><td><pre>    Hello</pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre>    Hello world!</pre></td></tr><tr><td data-num="12"></td><td><pre>    """</span></pre></td></tr></table></figure><p><code>what_</code>  标签表示对话内容相关的前缀， <code>who_</code>  标签表示角色名字相关的前缀</p>
<p><code>what_size</code>  属性可以调整一个角色说话时的文本大小， <code>who_size</code>  表示角色框文字大小。</p>
<p><code>what_prefix</code>  显示对话内容之前，添加的前缀字符串； <code>what_suffix</code>  显示对话内容之前，添加的后缀字符串； <code>who_prefix</code>  显示角色名字之前，添加的前缀字符串； <code>who_suffix</code>  显示角色名字之前，添加的后缀字符串。</p>
<p><code>window_background</code>  表示该角色对话内容背景。</p>
<p><code>who_bold</code>  可以设置角色名字为粗体</p>
<p><code>outline</code>  可以设置文本外边框，四个参数为：粗细、颜色、x 偏移、y 偏移。</p>
<figure class="highlight renpy"><figcaption data-lang="Ren'py"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">define</span> a <span class="token operator">=</span> <span class="token function">Character</span><span class="token punctuation">(</span><span class="token string">'alice'</span><span class="token punctuation">,</span> what_size <span class="token operator">=</span> <span class="token number">24</span><span class="token punctuation">,</span> who_size <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">,</span>window_background<span class="token operator">=</span><span class="token string">"gui/textbox2.png"</span><span class="token punctuation">,</span> who_color<span class="token operator">=</span><span class="token string">"#C8FFC8"</span><span class="token punctuation">,</span>what_color<span class="token operator">=</span><span class="token string">"#CFC5C8"</span>，who_bold <span class="token operator">=</span> <span class="token boolean">True</span><span class="token punctuation">,</span> what_outlines<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">"#000800"</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span>，what_suffix<span class="token operator">=</span><span class="token string">'喵'</span><span class="token punctuation">)</span></pre></td></tr></table></figure><p><code>ctc</code>  一个用做 “点击继续” 提示的可展现部件，若有其他特殊提示被使用时可能不会展现。</p>
<p><code>ctc_pause</code>  当文本显示被  <code>&#123;p&#125;</code>  或  <code>&#123;w&#125;</code>  标签  <code>(tag)</code>  暂停时，用作 “点击继续” 提示的一个可视组件。</p>
<p><code>ctc_timedpause</code>  当文本显示被  <code>&#123;p=&#125;</code>  或  <code>&#123;w=&#125;</code>  标签  <code>(tag)</code>  暂停时，用作 “点击继续” 提示的一个可视组件。当该值为 None 时，会使用  <code>ctc_pause</code>  的值作为默认值。若你想要使用  <code>ctc_pause</code>  而不是  <code>ctc_timedpause</code>  ，请使用  <code>Null()</code>  。</p>
<p><code>ctc_position</code>  该参数控制 “点击继续” 提示的位置。若值为  <code>&quot;nestled&quot;</code>  ，该提示会作为目前展示文本的一部分出现，在最后一个字符显示后立即出现相应提示。若值为  <code>&quot;fixed&quot;</code>  ，提示会被直接添加到界面上，其在界面上的位置由位置样式属性控制。</p>
<figure class="highlight renpy"><figcaption data-lang="Ren'py"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 定义一个两秒旋转一圈的雪花</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token tag">image</span> end_pic<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token string">"snowflake.png"</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token property">size</span> <span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token tag">block</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token property">rotate</span> <span class="token number">0</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token property">linear</span> <span class="token number">2.0</span> <span class="token property">rotate</span> <span class="token number">360</span></pre></td></tr><tr><td data-num="8"></td><td><pre>        <span class="token keyword">repeat</span></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token comment"># 闪烁效果</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">transform</span> Flashing<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token property">alpha</span> <span class="token number">0.0</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token property">linear</span> <span class="token number">1.0</span> <span class="token property">alpha</span> <span class="token number">1.0</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token property">linear</span> <span class="token number">1.0</span> <span class="token property">alpha</span> <span class="token number">0.0</span></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token keyword">repeat</span></pre></td></tr><tr><td data-num="16"></td><td><pre></pre></td></tr><tr><td data-num="17"></td><td><pre></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token tag">image</span> download<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="19"></td><td><pre>    <span class="token string">"download.png"</span></pre></td></tr><tr><td data-num="20"></td><td><pre>    <span class="token function">size</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">,</span><span class="token number">25</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="21"></td><td><pre>    Flashing</pre></td></tr><tr><td data-num="22"></td><td><pre></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token keyword">define</span> a <span class="token operator">=</span> <span class="token function">Character</span><span class="token punctuation">(</span><span class="token string">'alice'</span><span class="token punctuation">,</span>ctc<span class="token operator">=</span><span class="token string">"download"</span><span class="token punctuation">,</span>ctc_position<span class="token operator">=</span><span class="token string">"nestled"</span><span class="token punctuation">)</span></pre></td></tr></table></figure><p><code>narrator</code>  默认为旁白</p>
<p>当一个角色与一个图像标签 (tab) 关联，包含对应角色的 say 语句将在角色名和第二个字符串之间就可以插入图像属性 (attribute)。</p>
<p>在这中情况下，如果带有给定标签 (tag) 的某个图片需要显示，Ren’Py 会定位一条包含角色标签 (tag) 和属性 (attribute) 的 show 命令。如果图片未显示，Ren’Py 会保存属性 (attribute) 并用于头像，但依然不会显示图片。</p>
<figure class="highlight renpy"><figcaption data-lang="Ren'py"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token tag">image</span> alice_image a <span class="token operator">=</span> <span class="token string">"alicea.png"</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token tag">image</span> alice_image b <span class="token operator">=</span> <span class="token string">"aliceb.png"</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token tag">image</span> alice_image c <span class="token operator">=</span> <span class="token string">"alicec.png"</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token tag">label</span> start<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">show</span> alice_image a <span class="token operator">with</span> <span class="token keyword">dissolve</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    alice <span class="token string">"Hello world!"</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    alice c <span class="token string">"Hello world!"</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    alice b <span class="token string">"Hello world!"</span></pre></td></tr></table></figure><h1 id="图像及其变换"><a class="anchor" href="#图像及其变换">#</a> 图像及其变换</h1>
<p>标准图像展示有两种， <code>scene</code>  和  <code>show</code></p>
<ul>
<li>scene：清楚当前界面的所有图像，然后展示该图像</li>
<li>show：展示图像</li>
</ul>
<p>显示一个图像时，通常可以使用  <code>at</code>  来决定图像的位置（及变换）， <code>at</code>  的标准函数有两个： <code>left</code>  和  <code>right</code></p>
<p>图像的变换可以使用  <code>with</code>  属性进行。</p>
<p>隐藏图像通常用  <code>hide</code> 。</p>
<figure class="highlight renpy"><figcaption data-lang="Ren'py"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">show</span> alicea <span class="token operator">at</span> <span class="token keyword">left</span></pre></td></tr><tr><td data-num="2"></td><td><pre>alice <span class="token string">"Hello world!"</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">hide</span> alicea</pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">#展示 alice 后隐藏 alice</span></pre></td></tr></table></figure><p>新展示的图像会覆盖到旧图像的上一层。</p>
<figure class="highlight renpy"><figcaption data-lang="Ren'py"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">show</span> adventure</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">show</span> alicea <span class="token operator">at</span> <span class="token keyword">left</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment"># alice 在 adventure 上层</span></pre></td></tr><tr><td data-num="4"></td><td><pre>alice <span class="token string">"Hello world!"</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">hide</span> alicea</pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token operator">with</span> <span class="token keyword">dissolve</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment"># alice 渐变消失</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">show</span> alicea <span class="token operator">at</span> <span class="token keyword">right</span></pre></td></tr></table></figure><p>图像的基本语法</p>
<ul>
<li>Anchor 锚点的水平坐标，以可视组件左边为坐标零点</li>
<li>Pos 水平坐标，以整个区域的左边为坐标零点。</li>
<li>Center xpos -&gt; 0.5 xanchor -&gt; 0.5</li>
<li>Offset 可视组件在水平方向偏离的像素数。向右偏离时是正数。</li>
<li>Align 将 xpos 和 xanchor 设置为相同的值。</li>
<li>Zoom 放大倍数。</li>
<li>Alpha 透明度，1.0 完全不透明，0.0 完全透明。</li>
<li>Rotate 角度</li>
</ul>
<figure class="highlight renpy"><figcaption data-lang="Ren'py"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">show</span> alice_image a<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token property">xpos</span> <span class="token number">0.0</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token property">ypos</span> <span class="token number">0.5</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token comment"># 人物立绘并非在左边的中间位置，因为还有透明像素</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token property">xcenter</span> <span class="token number">0.5</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token property">ycenter</span> <span class="token number">0.5</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token comment"># 人物立绘在中间位置</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token property">xoffset</span> <span class="token operator">-</span><span class="token number">100</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token comment">#立绘整体移动 100 像素</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token property">zoom</span> <span class="token number">2.0</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token comment">#放大两倍</span></pre></td></tr></table></figure><p>图像的变换：</p>
<ul>
<li>Linear 线性变换</li>
<li>Ease 缓动函数（慢 -&gt; 快 -&gt; 慢）</li>
<li>Easein （慢 -&gt; 快）</li>
<li>Easeout （慢 -&gt; 快）</li>
<li>Pause 暂停</li>
<li>Time 时间后</li>
<li>Parallrl /contains 同时运行区块</li>
</ul>
<figure class="highlight renpy"><figcaption data-lang="Ren'py"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">transform</span> re_left<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token property">xalign</span> <span class="token number">0.0</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token property">yalign</span> <span class="token number">1.0</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token property">linear</span> <span class="token number">1.0</span> <span class="token property">xalign</span> <span class="token number">1.0</span> <span class="token property">yalign</span> <span class="token number">0.0</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token comment"># 图像从左下角移动到右上角</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">transform</span> re_left——<span class="token number">2</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token property">xalign</span> <span class="token number">0.0</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token property">yalign</span> <span class="token number">1.0</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token tag">block</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="10"></td><td><pre>        <span class="token property">linear</span> <span class="token number">1.0</span> <span class="token property">xalign</span> <span class="token number">1.0</span> <span class="token property">yalign</span> <span class="token number">0.0</span></pre></td></tr><tr><td data-num="11"></td><td><pre>        <span class="token property">linear</span> <span class="token number">1.0</span> <span class="token property">xalign</span> <span class="token number">0.0</span> <span class="token property">yalign</span> <span class="token number">1.0</span></pre></td></tr><tr><td data-num="12"></td><td><pre>        repest</pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">transform</span> re_left——<span class="token number">3</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token property">xalign</span> <span class="token number">0.0</span></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token property">yalign</span> <span class="token number">1.0</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token tag">parallel</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="17"></td><td><pre>        ease <span class="token number">2.5</span> <span class="token property">xalign</span> <span class="token number">0.2</span> <span class="token property">yalign</span> <span class="token number">0.5</span></pre></td></tr><tr><td data-num="18"></td><td><pre>        <span class="token property">linear</span> <span class="token number">2.5</span> <span class="token property">xalign</span> <span class="token number">0.8</span> <span class="token property">yalign</span> <span class="token number">0.5</span></pre></td></tr><tr><td data-num="19"></td><td><pre>        repest</pre></td></tr><tr><td data-num="20"></td><td><pre>    <span class="token tag">parallel</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="21"></td><td><pre>        <span class="token property">rotate</span> <span class="token number">0</span></pre></td></tr><tr><td data-num="22"></td><td><pre>        <span class="token property">linear</span> <span class="token number">3.5</span> <span class="token property">rotate</span> <span class="token number">360</span></pre></td></tr><tr><td data-num="23"></td><td><pre>        repest</pre></td></tr></table></figure><h1 id="音乐和音效"><a class="anchor" href="#音乐和音效">#</a> 音乐和音效</h1>
<p>标准声音播放有三种： <code>music</code> 、 <code>sound</code> 、 <code>vioce</code> 。</p>
<ul>
<li>music：默认循环播放。</li>
<li>sound：默认播放一次。</li>
<li>voice：默认播放一次并且点击就会停止。</li>
</ul>
<p>可以使用  <code>stop</code>  语句来立即停止音乐。</p>
<h1 id="选项与分支"><a class="anchor" href="#选项与分支">#</a> 选项与分支</h1>
<p><code>menu</code>  语句能够给玩家提供一个分支选项</p>
<p>使用  <code>jump</code>  、 <code>label</code>  来确定选项对应的不同结果。</p>
<p>可以随时使用  <code>flag</code>  标识来让选项的结果立 flag 作为伏笔，影响之后的游戏进程。</p>
<p>想让  <code>flag</code>  生效，需要使用  <code>if</code>  以及  <code>else</code>  语句，来对  <code>flag</code>  进行回收。</p>
<figure class="highlight renpy"><figcaption data-lang="Ren'py"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token tag">menu</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    alice <span class="token string">"这是选项"</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token string">"这是选项 1"</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        <span class="token keyword">jump</span> second</pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token string">"这是选项 2"</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token keyword">jump</span> third</pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token tag">label</span> second<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    alice <span class="token string">"选项 1"</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token keyword">return</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token tag">label</span> second<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    alice <span class="token string">"选项 2"</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token keyword">return</span></pre></td></tr></table></figure><h1 id="python-代码"><a class="anchor" href="#python-代码">#</a> python 代码</h1>
<p>$ 后可以接 python 语句</p>
<p>多行语句使用 python:</p>
<figure class="highlight renpy"><figcaption data-lang="Ren'py"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">define</span> flag <span class="token operator">=</span> <span class="token boolean">False</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token tag">label</span> start<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token tag">menu</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    alice <span class="token string">"这是选项"</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token string">"这是选项 1"</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token tag">$</span> flag <span class="token operator">=</span> <span class="token boolean">True</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token comment"># 等价于</span></pre></td></tr><tr><td data-num="8"></td><td><pre>        <span class="token comment"># python:</span></pre></td></tr><tr><td data-num="9"></td><td><pre>        <span class="token comment">#   flag = True</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token string">"这是选项 2"</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="11"></td><td><pre>        <span class="token keyword">pass</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token tag">label</span> second<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token keyword">if</span> flag <span class="token operator">==</span> <span class="token boolean">True</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token comment"># if flag:</span></pre></td></tr><tr><td data-num="15"></td><td><pre>        alice <span class="token string">"选项 1"</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token keyword">else</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="17"></td><td><pre>        alice <span class="token string">"选项 2"</span></pre></td></tr><tr><td data-num="18"></td><td><pre>    <span class="token keyword">return</span></pre></td></tr></table></figure><h1 id="文本标签-转义-内插数据"><a class="anchor" href="#文本标签-转义-内插数据">#</a> 文本标签、转义、内插数据</h1>
<figure class="highlight renpy"><figcaption data-lang="Ren'py"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token tag">label</span> start<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token string">"比如，这是 &#123;b&#125; 粗体 &#123;/b&#125;，&#123;i&#125; 斜体 &#123;/i&#125;，&#123;s&#125; 删除线 &#123;/s&#125;，&#123;u&#125; 下划线&#123;/u&#125;"</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token string">"&#123;a=jump:second&#125;a 标签可以用来超链接 &#123;/a&#125;"</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token string">"&#123;alpha=0.5&#125;alpha 标签表示透明度 &#123;/alpha&#125;"</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token string">"&#123;color=#66CCFF&#125;color 标签可以改变文字颜色 &#123;/color&#125;"</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token string">"&#123;cps=25&#125;cps 标签可以让一段文本速度暂时改变 &#123;/cps&#125;"</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token string">"可以修改一部分文字的 &#123;font=DejaVuSans-Bold.ttf&#125; 字体&#123;/font&#125;"</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token string">"size 标签可以让一段文字的字体 &#123;size=+10&#125; 变大 &#123;/size&#125; 或者 &#123;size=-10&#125; 变小 &#123;/size&#125;，以及&#123;size=30&#125; 指定大小&#123;/size&#125;"</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token string">"tag 标签强行插入 &#123;space=30&#125; 一段空白，&#123;vspace=30&#125;vspace 则是插入上下行的空白"</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token string">"p 标签表示行标签 &#123;p&#125; 用于一个对话内换行（需点击两次），&#123;p=1.5&#125;可以设定最长点击时间"</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token string">"w 标签同上 &#123;w&#125; 但是不换行"</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token string">"nw 标签可以在两句话之间加入动画"</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token string">"比如这样 &#123;nw&#125;"</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token keyword">hide</span> alicea</pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token keyword">show</span> alicec <span class="token operator">with</span> <span class="token keyword">dissolve</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    extend <span class="token string">"比如这样就动了"</span></pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token string">"想打百分号的话，需要打两个 %%"</span></pre></td></tr><tr><td data-num="18"></td><td><pre>    <span class="token string">"\n 表示换行"</span></pre></td></tr><tr><td data-num="19"></td><td><pre>    <span class="token comment">#使用 [] 来引用内插数值</span></pre></td></tr><tr><td data-num="20"></td><td><pre>    <span class="token comment">#例如</span></pre></td></tr><tr><td data-num="21"></td><td><pre>    <span class="token tag">$</span> flag <span class="token operator">=</span> <span class="token boolean">False</span></pre></td></tr><tr><td data-num="22"></td><td><pre>    <span class="token string">"flag=[flag]"</span> <span class="token comment">#flag = False</span></pre></td></tr><tr><td data-num="23"></td><td><pre>    <span class="token tag">$</span> flag <span class="token operator">=</span> <span class="token boolean">True</span> <span class="token operator">*</span> <span class="token boolean">True</span></pre></td></tr><tr><td data-num="24"></td><td><pre>    <span class="token string">"flag=[flag]"</span> <span class="token comment">#flag = 1</span></pre></td></tr><tr><td data-num="25"></td><td><pre></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token tag">label</span> second<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="27"></td><td><pre>    <span class="token string">"你点击了一个文本标签"</span></pre></td></tr></table></figure><h1 id="转场"><a class="anchor" href="#转场">#</a> 转场</h1>
<h2 id="基础转场"><a class="anchor" href="#基础转场">#</a> 基础转场</h2>
<ul>
<li>
<p>fade: 0.5 秒时间画面逐渐暗淡至全黑，然后 0.5 秒时间画面从全黑逐渐变亮成新界面。</p>
</li>
<li>
<p>dissolve: 0.5 秒时间，使用溶解效果从旧界面切到新界面。</p>
</li>
<li>
<p>pixellate: 0.5 秒像素化旧场景，并 0.5 秒反向像素化至新场景。</p>
</li>
<li>
<p>move: 通过在图像上移动位置切换场景。</p>
</li>
<li>
<p>moveinright 及： moveinleft, moveintop, moveinbottom</p>
<p>从界面上对应的边界移入图像，用时 0.5 秒。</p>
</li>
<li>
<p>moveoutright 及： moveoutleft, moveouttop, moveoutbottom</p>
<p>从界面上对应的边界移出图像，用时 0.5 秒。</p>
</li>
<li>
<p>ease 及： easeinright, easeinleft, easeintop, easeinbottom, easeoutright, easeoutleft, easeouttop, easeoutbottom</p>
<p>类似于上面的 move 系列转场效果，差别在于 ease 系列基于余弦曲线放缓开始和结束的转场。</p>
</li>
<li>
<p>zoomin: 镜头放大切入图像，耗时 0.5 秒。</p>
</li>
<li>
<p>zoomout: 镜头缩小离开图像，耗时 0.5 秒。</p>
</li>
<li>
<p>zoominout: 先镜头放大切入图像，然后镜头缩小离开图像，耗时 0.5 秒。</p>
</li>
<li>
<p>vpunch: 这种转场效果，会垂直摇晃界面 0.25 秒。</p>
</li>
<li>
<p>hpunch: 这种转场效果，会水平摇晃界面 0.25 秒。</p>
</li>
<li>
<p>blinds: 垂直遮蔽原界面，耗时 1 秒。一个 ImageDissolve () 转场类的实例。</p>
</li>
<li>
<p>squares: 以平面效果转场界面，耗时 1 秒。</p>
</li>
<li>
<p>wipeleft 及： wiperight, wipeup, wipedown</p>
<p>以指定方向擦除原界面。</p>
</li>
<li>
<p>slideleft 及： slideright, slideup, slidedown</p>
<p>以指定方向滑入新场景。</p>
</li>
<li>
<p>slideawayleft 及： slideawayright, slideawayup, slideawaydown</p>
<p>以指定方向滑出旧场景。</p>
</li>
<li>
<p>pushright 及： pushleft, pushtop, pushbottom</p>
<p>新场景把旧场景从指定的边界推出。</p>
</li>
<li>
<p>irisin 及： irisout</p>
<p>使用一个矩形 iris 显示新界面，或者隐藏旧界面。</p>
</li>
</ul>
<h2 id="高级转场"><a class="anchor" href="#高级转场">#</a> 高级转场</h2>
<ol>
<li>
<p><code>MultipleTransition(args)</code></p>
<p>返回一个转场效果，其是多个转场效果顺序显示之后的集。</p>
<p>args<br />
 一个包含奇数个物件的列表。列表中奇数序号的物件必须是场景，偶数序号的物件必须是转场效果。这里说的场景可以是如下类别之一：</p>
<ul>
<li>可视组件。</li>
<li>false 值，表示使用旧场景。</li>
<li>true 值，表示使用新场景。</li>
</ul>
<p>大多数情况下，第一个入参会是 false 而最后一个是 true。</p>
<p>args 中的转场按顺序执行。对每一个转场效果而言，其前面的参数就是旧场景，其后面的参数就是新场景。举例：</p>
<figure class="highlight renpy"><figcaption data-lang="Ren'py"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">define</span> logodissolve <span class="token operator">=</span> <span class="token function">MultipleTransition</span><span class="token punctuation">(</span><span class="token punctuation">[</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token boolean">False</span><span class="token punctuation">,</span> <span class="token function">Dissolve</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token string">"logo.jpg"</span><span class="token punctuation">,</span> <span class="token function">Pause</span><span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token string">"logo.jpg"</span><span class="token punctuation">,</span> <span class="token keyword">dissolve</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token boolean">True</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr></table></figure><p>这个例子中，首先会使用溶解效果切换到 logo.jpg 文件，等待 1 秒钟后，再使用溶解效果切换至新场景。</p>
</li>
<li>
<p><code>CropMove(time, mode=&quot;slideright&quot;, startcrop=(0.0, 0.0, 0.0, 1.0), startpos=(0.0, 0.0), endcrop=(0.0, 0.0, 1.0, 1.0), endpos=(0.0, 0.0), topnew=True)</code></p>
<p>返回一个转场效果，其会剪裁一个场景并将其放置在界面中指定位置。其可以模板化处理一堆效果，这些效果的共通点是将界面分割成矩形条 (slice)。</p>
<ul>
<li>time 转场效果耗时。</li>
<li>mode 转场模式名。转场模式总共有 3 大类：wipes、slides、其他。也可以是 “custom”，是一个用户自己定义的模式。</li>
</ul>
<p>在 wipe 模式下，原图像先保持不变，然后逐渐使用转场效果全部擦除。例如，在 “wiperight” 模式下，一个刷子会从左到右擦除原图像，即先擦除界面最左边的图像，接着擦除界面中间，最后擦除界面最右边。其他的 wipe 包括 “wipeleft”、“wipedown” 和 “wipeup”。</p>
<p>在 slide 模式下，图像会移动。在 “slideright” 模式下，图像的右边从界面的左边开始，平移至界面右边，完成整个转场过程。其他 slide 模式包括 “slideleft”、“slidedown” 和 “slideup”。</p>
<p>还有 slideaway 模式，这个模式下原图像在新图像上层，平移出界面。slideaway 模式包括 “slideawayright”、“slideawayleft”、“slideawayup” 和 “slideawaydown”。</p>
<p>我们还支持矩形 iris，包括 “irisin” 和 “irisout”。</p>
<p>下列参数值在模式为 “custom” 的情况下才会使用。位置信息与界面尺寸相关，剪裁大小与图像尺寸相关。一个 (0.25, 0.0, 0.5, 1.0) 的剪裁会使用某个图像的中间一小块。</p>
<ul>
<li>startcrop : 顶层图像的剪裁起始矩形。一个 4 元素的元组，包含 x、y、width 和 height。</li>
<li>startpos : 顶层图像绘制在界面上起始坐标。一个 2 元素的元组，包含 x 和 y。</li>
<li>endcrop : 顶层图像的剪裁结束矩形。一个 4 元素的元组，包含 x、y、width 和 height。</li>
<li>endpos : 顶层图像绘制在界面上结束坐标。一个 2 元素的元组，包含 x 和 y。</li>
<li>topnew : 若该值为真 (true)，被剪裁和移动的是新场景。若该值为假 (false)，被剪裁和移动的是旧场景。</li>
</ul>
</li>
<li>
<p><code>ImageDissolve(image, time, ramplen=8, reverse=False, alpha=True, time_warp=None)</code></p>
<p>返回一个转场效果，其使用溶解特效切换新旧界面，并利用某个图像控制溶解过程。这意味着纯白的像素首先被溶解，而纯黑的像素最后溶解。</p>
<ul>
<li><code>image</code>  使用的控制图像。其必须是一个图片文件或者图像控制器。控制图像需要与待溶解场景的尺寸一致。</li>
<li><code>time</code>  溶解效果持续时间。</li>
<li><code>ramplen</code>  色彩蔓延 (ramp) 步长。其必须是一个 2 的整次幂。默认值是 8，当纯白像素全部溶解之后，下一步溶解的像素是在灰度上比纯白色低 8 度的颜色。</li>
<li><code>reverse</code>  若该值为真 (true)，黑色像素反而先于白色像素溶解。</li>
<li><code>alpha</code>  若该值为真 (true)，溶解效果会使用 alpha 通道。若该值为假 (false)，直接替换原界面，这样效率比较高。</li>
<li><code>time_warp</code>  一个调整时间线的功能函数。若不为空值 (None)，其应该是一个使用 0.0 至 1.0 之间的小数作为输入的函数，返回结果也是 0.0 至 1.0 之间。</li>
</ul>
</li>
</ol>
</div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i></span><span class="text">更新于</span><time title="修改时间：2025-01-12 17:12:43" itemprop="dateModified" datetime="2025-01-12T17:12:43+08:00">2025-01-12</time></span></div><div id="copyright"><ul><li class="author"><strong>本文作者：</strong>樱小路七叶<i class="ic i-at"><em>@</em></i>Nana7ha's Café Stella</li><li class="link"><strong>本文链接：</strong><a href="http://cwlrin.wiki/misc/Ren-Py-%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B/" title="Ren&#39;Py 基础教程">http://cwlrin.wiki/misc/Ren-Py-基础教程/</a></li><li class="license"><strong>版权声明：</strong>本站所有文章除特别声明外，均采用 <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</a> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/front-end/JavaScript%20%E8%BF%9B%E9%98%B6/" rel="prev" itemprop="url" title="JavaScript 进阶" style="background-image: linear-gradient(to bottom right, #a882db, #b393ac);"><span class="type">上一篇</span><span class="category"><i class="ic i-flag"></i>前端开发</span><h3>JavaScript 进阶</h3></a></div><div class="item right"><a href="/misc/CSharp%20%E5%9F%BA%E7%A1%80/" rel="next" itemprop="url" title="C# 基础" style="background-image: linear-gradient(to bottom right, #84ef86, #a292fe);"><span class="type">下一篇</span><span class="category"><i class="ic i-flag"></i>杂项</span><h3>C# 基础</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%A7%92%E8%89%B2"><span class="toc-number">1.</span> <span class="toc-text"> 角色</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9B%BE%E5%83%8F%E5%8F%8A%E5%85%B6%E5%8F%98%E6%8D%A2"><span class="toc-number">2.</span> <span class="toc-text"> 图像及其变换</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%9F%B3%E4%B9%90%E5%92%8C%E9%9F%B3%E6%95%88"><span class="toc-number">3.</span> <span class="toc-text"> 音乐和音效</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%80%89%E9%A1%B9%E4%B8%8E%E5%88%86%E6%94%AF"><span class="toc-number">4.</span> <span class="toc-text"> 选项与分支</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#python-%E4%BB%A3%E7%A0%81"><span class="toc-number">5.</span> <span class="toc-text"> python 代码</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%96%87%E6%9C%AC%E6%A0%87%E7%AD%BE-%E8%BD%AC%E4%B9%89-%E5%86%85%E6%8F%92%E6%95%B0%E6%8D%AE"><span class="toc-number">6.</span> <span class="toc-text"> 文本标签、转义、内插数据</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%BD%AC%E5%9C%BA"><span class="toc-number">7.</span> <span class="toc-text"> 转场</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E8%BD%AC%E5%9C%BA"><span class="toc-number">7.1.</span> <span class="toc-text"> 基础转场</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%AB%98%E7%BA%A7%E8%BD%AC%E5%9C%BA"><span class="toc-number">7.2.</span> <span class="toc-text"> 高级转场</span></a></li></ol></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li  class="active"><a href="/misc/Ren-Py-%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B/" rel="bookmark" title="Ren'Py 基础教程">Ren'Py 基础教程</a></li><li ><a href="/misc/CSharp%20%E5%9F%BA%E7%A1%80/" rel="bookmark" title="C# 基础">C# 基础</a></li><li ><a href="/misc/Tailwind-CSS-%E5%AE%89%E8%A3%85%E6%AD%A5%E9%AA%A4/" rel="bookmark" title="Tailwind CSS 安装步骤">Tailwind CSS 安装步骤</a></li><li ><a href="/misc/Git-%E6%8F%90%E4%BA%A4%E4%BB%A3%E7%A0%81%E6%97%B6%E6%B7%BB%E5%8A%A0-emoji-%E5%9B%BE%E6%A0%87/" rel="bookmark" title="Git 提交代码时添加 emoji 图标">Git 提交代码时添加 emoji 图标</a></li><li ><a href="/misc/%E4%BD%BF%E7%94%A8-ffmpeg-%E5%B0%86%E6%96%87%E4%BB%B6%E5%A4%B9%E4%B8%AD%E7%9A%84%E6%89%80%E6%9C%89%E8%A7%86%E9%A2%91%E5%90%88%E5%B9%B6%E4%B8%BA%E5%8D%95%E4%B8%AA%E8%A7%86%E9%A2%91%E6%96%87%E4%BB%B6/" rel="bookmark" title="使用 ffmpeg 将文件夹中的所有视频合并为单个视频文件">使用 ffmpeg 将文件夹中的所有视频合并为单个视频文件</a></li><li ><a href="/misc/%E7%BA%A6%E5%AE%9A%E5%BC%8F%E6%8F%90%E4%BA%A4-1-0-0/" rel="bookmark" title="约定式提交 1.0.0">约定式提交 1.0.0</a></li><li ><a href="/misc/Doxygen-%E8%AF%AD%E6%B3%95%E7%AE%80%E4%BB%8B/" rel="bookmark" title="Doxygen 语法简介">Doxygen 语法简介</a></li><li ><a href="/misc/log4cpp-%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/" rel="bookmark" title="log4cpp 简单使用">log4cpp 简单使用</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><img class="image" loading="lazy" decoding="async" itemprop="image" alt="樱小路七叶" src="/assets/avatar.jpg"/><p class="name" itemprop="name">樱小路七叶</p><div class="description" itemprop="description">技术与美日新月异</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">91</span><span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">11</span><span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">13</span><span class="name">标签</span></a></div></nav><div class="social"><a target="_blank" rel="noopener" href="https://github.com/cwlrin" class="item github" title="https:&#x2F;&#x2F;github.com&#x2F;cwlrin"><i class="ic i-github"></i></a><a target="_blank" rel="noopener" href="https://www.zhihu.com/people/ying-xiao-lu-qi-ye" class="item zhihu" title="https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;ying-xiao-lu-qi-ye"><i class="ic i-zhihu"></i></a><a target="_blank" rel="noopener" href="https://music.163.com/#/user/home?id=411590211" class="item music" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;user&#x2F;home?id&#x3D;411590211"><i class="ic i-cloud-music"></i></a><a target="_blank" rel="noopener" href="https://space.bilibili.com/8013992" class="item bilibili" title="https:&#x2F;&#x2F;space.bilibili.com&#x2F;8013992"><i class="ic i-bilibili"></i></a></div><div class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item dropdown"><a href="#" onclick="return false;"><i class="ic i-user"></i>关于</a><ul class="submenu"><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于本站</a></li><li class="item"><a href="/admiration/" rel="section"><i class="ic i-coffee"></i>赞赏博主</a></li></ul></li><li class="item dropdown"><a href="#" onclick="return false;"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>友链</a></li></div></div></div></div><ul id="quick"><li class="prev pjax"><a href="/misc/CSharp%20%E5%9F%BA%E7%A1%80/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/front-end/JavaScript%20%E8%BF%9B%E9%98%B6/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"></div><div class="status"><div class="copyright">&copy; 2020 -<span itemprop="copyrightYear">2025</span><span class="with-love"><i class="ic i-sakura rotate"></i></span><span class="author" itemprop="copyrightHolder">樱小路七叶 @ 七葉の喫茶ステラ</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i></span><span title="站点总字数">1.4m 字</span><span class="post-meta-divider"> | </span><span class="post-meta-item-icon"><i class="ic i-coffee"></i></span><span title="站点阅读时长">21:46</span></div><div class="powered-by">基于 <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a> & Theme.<a target="_blank" rel="noopener" href="https://github.com/theme-shoka-x/hexo-theme-shokaX/">ShokaX</a></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL = {
    ispost: true,
        path: `misc/Ren-Py-基础教程/`,
        favicon: {
        show: `（●´3｀●）やれやれだぜ`,
        hide: `(´Д｀)大変だ！`
    },
    search: {
        placeholder: "文章搜索",
        empty: "关于 「 ${query} 」，什么也没搜到",
        stats: "${time} ms 内找到 ${hits} 条结果"
    },
    copy_tex: false,
    katex: false,
    mermaid: false,
    audio: undefined,
    fancybox: true,
    nocopy: false,
    outime: true,
    template: `<div class="note warning"><p><span class="label warning">文章时效性提示</span><br>这是一篇发布于 {{publish}} 天前，最后一次更新在 {{updated}} 天前的文章，部分信息可能已经发生改变，请注意甄别。</p></div>`,
    quiz: {
        choice: `单选题`,
        multiple: `多选题`,
        true_false: `判断题`,
        essay: `问答题`,
        gap_fill: `填空题`,
        mistake: `错题备注`
    },
    ignores: [
        (uri) => uri.includes('#'),
        (uri) => new RegExp(LOCAL.path + '$').test(uri),
            []
    ]
};
</script><script src="https://s4.zstatic.net/ajax/libs/pace/1.2.4/pace.min.js" integrity="sha384-k6YtvFUEIuEFBdrLKJ3YAUbBki333tj1CSUisai5Cswsg9wcLNaPzsTHDswp4Az8" crossorigin="anonymous" fetchpriority="high"></script><script src="https://s4.zstatic.net/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha384-ZvpUoO&#x2F;+PpLXR1lu4jmpXWu80pZlYUAfxl5NsBMWOEPSjUn&#x2F;6Z&#x2F;hRTt8+pR6L4N2" crossorigin="anonymous" fetchpriority="high"></script><script src="/js/siteInit.js?v=0.4.17" type="module" fetchpriority="high" defer></script></body></html>