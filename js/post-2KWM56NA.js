import{$ as b,S as m,T as g,V as y,Y as S,a as s,b as L,d as C,g as v,h as w,j as q,m as u}from"./chunk-6DIGO3JQ.js";import"./chunk-R2ID445Y.js";import"./chunk-IFD4QV2W.js";var k=o=>{document.querySelector(o+" .md img")&&(b("fancybox"),b("justifiedGallery"),s.each(o+" p.gallery",e=>{let t=document.createElement("div");t.className="gallery",t.setAttribute("data-height",String(e.getAttribute("data-height")||220)),t.innerHTML=e.innerHTML.replace(/<br>/g,""),e.parentNode.insertBefore(t,e),e.remove()}),s.each(o+" .md img:not(.emoji):not(.vemoji)",e=>{let t=$(e),a=t.attr("data-src")||t.attr("src"),r=t.wrap('<a class="fancybox" href="'+a+'" itemscope itemtype="https://schema.org/ImageObject" itemprop="url"></a>').parent("a"),l,c="image-info";if(t.is("a img")||(t.data("safe-src",a),t.is(".gallery img")?c="jg-caption":r.attr("data-fancybox","default").attr("rel","default")),l=e.getAttribute("title")){r.attr("data-caption",l);let n=document.createElement("span"),p=document.createTextNode(l);n.appendChild(p),n.addClass(c),L(e,n)}}),s.each(o+" div.gallery",(e,t)=>{$(e).justifiedGallery({rowHeight:$(e).data("height")||120,rel:"gallery-"+t}).on("jg.complete",function(){$(this).find("a").each((a,r)=>{r.setAttribute("data-fancybox","gallery-"+t)})})}),$.fancybox.defaults.hash=!1,$(o+" .fancybox").fancybox({loop:!0,helpers:{overlay:{locked:!1}}}))};var J=()=>{if(!document.querySelector(".md"))return;k(".post.block"),document.querySelector(".post.block").oncopy=e=>{if(y(LOCAL.copyright),LOCAL.nocopy){e.preventDefault();return}let t=document.getElementById("copyright");if(window.getSelection().toString().length>q.experiments.copyrightLength&&t){e.preventDefault();let a="# "+t.querySelector(".author").innerText,r="# "+t.querySelector(".link").innerText,l="# "+t.querySelector(".license").innerText,c=a+"<br>"+r+"<br>"+l+"<br><br>"+window.getSelection().toString().replace(/\r\n/g,"<br>"),n=a+`
`+r+`
`+l+`

`+window.getSelection().toString().replace(/\r\n/g,`
`);if(e.clipboardData)e.clipboardData.setData("text/html",c),e.clipboardData.setData("text/plain",n);else if(window.clipboardData)return window.clipboardData.setData("text",n)}},s.each("li ruby",e=>{let t=e.parentNode;e.parentNode.tagName!=="LI"&&(t=e.parentNode.parentNode),t.addClass("ruby")}),s.each("ol[start]",e=>{e.style.counterReset="counter "+parseInt(e.getAttribute("start")-1)}),s.each(".md table",e=>{C(e,{className:"table-container"})}),s.each(".highlight > .table-container",e=>{e.className="code-container"}),s.each("figure.highlight",e=>{let t=e.querySelector(".code-container"),a=e.querySelector("figcaption");e.insertAdjacentHTML("beforeend",'<div class="operation"><span class="breakline-btn"><i class="ic i-align-left"></i></span><span class="copy-btn"><i class="ic i-clipboard"></i></span><span class="fullscreen-btn"><i class="ic i-expand"></i></span></div>');let r=e.querySelector(".copy-btn");LOCAL.nocopy?r.remove():(r.addEventListener("click",i=>{let d=i.currentTarget,f="",x="";t.find("pre").forEach(h=>{x+=f+h.innerText,f=`
`}),S(x,h=>{d.querySelector(".ic").className=h?"ic i-check":"ic i-times",d.blur(),y(LOCAL.copyright)})},{passive:!0}),r.addEventListener("mouseleave",i=>{setTimeout(()=>{i.target.querySelector(".ic").className="ic i-clipboard"},1e3)})),e.querySelector(".breakline-btn").addEventListener("click",i=>{let d=i.currentTarget;e.hasClass("breakline")?(e.removeClass("breakline"),d.querySelector(".ic").className="ic i-align-left"):(e.addClass("breakline"),d.querySelector(".ic").className="ic i-align-justify")});let c=e.querySelector(".fullscreen-btn"),n=()=>{e.removeClass("fullscreen"),e.scrollTop=0,u.removeClass("fullscreen"),c.querySelector(".ic").className="ic i-expand"},p=()=>{if(e.hasClass("fullscreen")){if(n(),t&&t.find("tr").length>15){let i=t.querySelector(".show-btn");t.style.maxHeight="300px",i.removeClass("open")}g(e)}else if(e.addClass("fullscreen"),u.addClass("fullscreen"),c.querySelector(".ic").className="ic i-compress",t&&t.find("tr").length>15){let i=t.querySelector(".show-btn");t.style.maxHeight="",i.addClass("open")}};if(c.addEventListener("click",p),a&&a.addEventListener("click",p),t&&t.find("tr").length>15){t.style.maxHeight="300px",t.insertAdjacentHTML("beforeend",'<div class="show-btn"><i class="ic i-angle-down"></i></div>');let i=t.querySelector(".show-btn"),d=()=>{t.style.maxHeight="300px",i.removeClass("open")},f=()=>{t.style.maxHeight="",i.addClass("open")};i.addEventListener("click",()=>{i.hasClass("open")?(n(),d(),g(t)):f()})}}),s.each("pre.mermaid > svg",e=>{let t=e;t.style.maxWidth=""}),s.each(".reward button",e=>{e.addEventListener("click",t=>{t.preventDefault();let a=document.getElementById("qr");v(a)==="inline-flex"?m(a,0):m(a,1,()=>{w(a,"inline-flex")})})}),s.each(".quiz > ul.options li",e=>{e.addEventListener("click",()=>{e.hasClass("correct")?(e.toggleClass("right"),e.parentNode.parentNode.addClass("show")):e.toggleClass("wrong")})}),s.each(".quiz > p",e=>{e.addEventListener("click",()=>{e.parentNode.toggleClass("show")})}),s.each(".quiz > p:first-child",e=>{let t=e.parentNode,a="choice";(t.hasClass("true")||t.hasClass("false"))&&(a="true_false"),t.hasClass("multi")&&(a="multiple"),t.hasClass("fill")&&(a="gap_fill"),t.hasClass("essay")&&(a="essay"),e.setAttribute("data-type",LOCAL.quiz[a])}),s.each(".quiz .mistake",e=>{e.setAttribute("data-type",LOCAL.quiz.mistake)}),s.each("div.tags a",e=>{e.className=["primary","success","info","warning","danger"][Math.floor(Math.random()*5)]});let o=document.querySelectorAll(".show-btn .i-angle-down");if(o.length){let e=new IntersectionObserver(t=>{t.forEach(a=>{a.isIntersecting?o.forEach(r=>{r.classList.remove("stop-animation")}):o.forEach(r=>{r.classList.add("stop-animation")})})},{root:null,threshold:.5});o.forEach(t=>{e.observe(t)})}};export{J as postBeauty};
/*! For license information please see post-2KWM56NA.js.LEGAL.txt */
